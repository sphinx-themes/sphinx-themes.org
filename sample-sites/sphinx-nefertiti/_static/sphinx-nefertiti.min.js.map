{"version":3,"names":["BACK_TO_TOP_BUTTON_ID","BACK_TO_TOP_DIV_ID","NAVBAR_ID","DEFAULT_NAVBAR_HEIGHT","BackToTop","_this","this","_scrollHandler","event","y_offset","window","pageYOffset","document","documentElement","scrollTop","prev_offset","navbar_height","btn","classList","add","remove","_scrollToTopHandler","preventDefault","init","addEventListener","getElementById","navbar","offsetHeight","style","top","FIGURE_IMG_SELECTOR","fixFigureStyle","_step","_iterator","_createForOfIteratorHelperLoose","querySelectorAll","done","figure","value","img","querySelector","width","height","elem_width","figcaption","_arrayLikeToArray","r","a","length","e","n","Array","t","Symbol","iterator","call","next","bind","isArray","_unsupportedIterableToArray","o","TypeError","toString","slice","constructor","name","from","test","SphinxColorschemeImageHandler","options","activate","scheme","data_att","_loop","new_img","Image","new_src","getAttribute","src","console","error","complete","closest","undefined","anchor","href","parentElement","tagName","_schemes","_mediaqs","_auto","hasOwnProperty","meta_prop","meta_schemes","content","_step2","_iterator2","split","item","push","trim","_step3","_loop2","q","globalThis","matchMedia","matches","_iterator3","CSchemeHandler","stored","localStorage","getItem","_cshdl","auto","_arr","_i","apply","updateDropdown","_proto","prototype","registerClickEvents","_this2","dataset","snfttLuz","setItem","preferred","option","cscheme","focus","prefix","selector","sel_icon","luz_item","luz_icon","element","setAttribute","_createClass","key","get","includes","TEMPLATE_SELECTOR","loadRefList","refs","toc_expanded_stored","MenuHandler","_removeRef","ref","pos","indexOf","splice","join","_expandRefs","li_item","toc","contains","toggle","_updateItem","_expandOrFoldAll","expand","link","nextElementSibling","update_refs","icon","snfttRef","_clickHandler","expand_button","currentTarget","_keyupHandler","uls","links","filter","_link$parentElement","_step4","_iterator4","_step5","_iterator5","_link$parentElement2","_step6","_iterator6","_step7","filter_re","RegExp","_iterator7","_li_item","textContent","parent","_parent2","_parent","nodeName","num_expandable_menus","tmpl","tmpl_button","firstElementChild","_step8","_iterator8","cloneNode","before","_addActiveCssClass","elem","ariaCurrent","selectActiveHeaderLink","curl","URL","parse","location","qs","hl_id","snfttHlRegexps","re_str","pathname","snfttHlId","formatNumber","num","def_locale","lang","toLocaleString","maximumFractionDigits","notation","compactDisplay","readFromGitHub","_x","_x2","_readFromGitHub","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","repo","tag","stars","forks","url","response1","data1","response2","data2","wrap","_context","prev","fetch","sent","status","Error","json","stargazers_count","forks_count","tag_name","abrupt","stop","readFromGitLab","_readFromGitLab","base","project","response","data","encodeURIComponent","star_count","ls","qs_repo_url","qs_repo_facts","qs_repo_tag","qs_repo_stars","qs_repo_forks","_updateFactsComponent","metrics","num_updated_facts","facts_element","tag_element","stars_element","forks_element","_readFromLocalStorage","p1","p2","_getRepoMetrics","_x3","_getRepoMetrics2","host","last_access","now","ts","Date","setTime","Number","parseInt","getTime","t0","t1","updateRepoMetrics","_updateRepoMetrics","_callee2","repo_url_element","github_match","gitlab_match","slug","_metrics","_context2","snfttRepoUrl","match","TocObserver","_sectionsObservationHandler","entries","map","sec","target","id","isIntersecting","_initializeSectionsObserver","root_margin","section_observer","IntersectionObserver","root","rootMargin","threshold","doc","observe","_document$querySelect","document_1a","toc_1a","LocationHashHandler","isInViewport","rect","getBoundingClientRect","left","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","hashChanged","_","_this2$toc","ubits","toc_ref","toc_ref_elem","scrollIntoView","behavior","block","resizeAsides","nftt_content","nftt_sidebar","backtotop_div","nftt_toc","header_h","body","updateScrollPaddingTop","_element$querySelecto","scroll_padding_top","qs_version_url","_getCurrentVersion","_version_elem$dataset","_version_elem$dataset2","version_elem","version_url","snfttVersionUrl","replace","String","raw","_templateObject","_taggedTemplateLiteralLoose","snfttVersion","def_ver","updateVersion","version","version_active","qs_version_item","version_item","feedVersionsMenu","vermenu","log","docs_versions","li","createElement","span","i","append","agentHas","keyword","navigator","userAgent","toLowerCase","search","isFirefox","isSafari","ApplePaySetupFeature","safari","runWhenDOMContentLoaded","cb","readyState","attachEvent","loadSphinxNefertiti","ResizeObserver","paddingTop","css_content","head","createTextNode","checked","table","wrapper","_vchanges_selectors","lst","src_class","tgt_class","div","childNodes","sidebar_elem"],"sources":["../../js/src/backtotop.js","../../js/src/figures.js","../../node_modules/sphinx-colorschemed-images/dist/js/sphinx-colorschemed-images.esm.js","../../js/src/cschemes.js","../../js/src/menu.js","../../js/src/navbar.js","../../js/src/utils.js","../../js/src/github.js","../../js/src/gitlab.js","../../js/src/repometrics.js","../../js/src/pagetoc.js","../../js/src/tocresize.js","../../js/src/versions.js","../../js/src/index.js"],"sourcesContent":["const BACK_TO_TOP_BUTTON_ID = \"back-to-top\";\nconst BACK_TO_TOP_DIV_ID = \"back-to-top-container\";\n\n// Uses the element ID of the navbar, to find out its height and\n// put the back-to-top button below the navbar, 16px below it.\nconst NAVBAR_ID = \"snftt-nav-bar\";\n\n// If it can't find out the navigation bar height, use the\n// following default instead.\nconst DEFAULT_NAVBAR_HEIGHT = 60;  // pixels.\n\n\nexport class BackToTop {\n  constructor() {\n    this.btn = document.getElementById(BACK_TO_TOP_BUTTON_ID);\n    this.prev_offset = 0;\n    const navbar = document.getElementById(NAVBAR_ID);\n    this.navbar_height = navbar.offsetHeight || DEFAULT_NAVBAR_HEIGHT;\n    const btt_div = document.getElementById(BACK_TO_TOP_DIV_ID);\n    btt_div.style.top = `${this.navbar_height + 16}px`;\n  }\n\n  _scrollHandler = (event) => {\n    var y_offset = window.pageYOffset || document.documentElement.scrollTop;\n\n    if (y_offset > this.prev_offset || y_offset <= this.navbar_height) {\n      this.btn.classList.add(\"d-none\");\n    } else if (y_offset < this.prev_offset && y_offset > this.navbar_height) {\n      this.btn.classList.remove(\"d-none\");\n    }\n\n    this.prev_offset = y_offset <= 0 ? 0 : y_offset;\n  }\n\n  _scrollToTopHandler = (event) => {\n    event.preventDefault();\n    document.documentElement.scrollTop = 0;\n  }\n\n  init = () => {\n    window.addEventListener(\"scroll\", this._scrollHandler, false);\n    this.btn.addEventListener(\"click\", this._scrollToTopHandler, false);\n  }\n}\n","// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst FIGURE_IMG_SELECTOR = \"#content figure\";\n\nexport function fixFigureStyle() {\n  const figures = document.querySelectorAll(FIGURE_IMG_SELECTOR);\n  for(const figure of figures) {\n    const img = figure.querySelector(\"img\");\n    if (img && img.style && (img.style.width || img.style.height)) {\n      const elem_width = img.width;\n      figure.style['width'] = `${elem_width}px`;\n      const figcaption = figure.querySelector(\"figcaption\");\n      if (figcaption) {\n        figcaption.style['width'] = `${elem_width}px`;\n      }\n      if (img.style.width) {\n        img.style.width = \"\";\n      }\n    }\n  }\n}\n","/*!\n  * sphinx-colorschemed-images v0.2.2 (https://github.com/danirus/sphinx-colorschemed-images).\n  * Copyright 2024 Daniela Rus Morales.\n  * Licensed under MIT (https://github.com/danirus/sphinx-colorschemed-images/blob/main/LICENSE).\n  */\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _createForOfIteratorHelperLoose(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (t) return (t = t.call(r)).next.bind(t);\n  if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e) {\n    t && (r = t);\n    var o = 0;\n    return function () {\n      return o >= r.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: r[o++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar SphinxColorschemeImageHandler = function SphinxColorschemeImageHandler(options) {\n  var _this = this;\n  if (options === void 0) {\n    options = {};\n  }\n  this.activate = function (scheme) {\n    var data_att = \"data-alt-src-color-scheme-\" + scheme;\n    var images = document.querySelectorAll(\"img[\" + data_att + \"]\");\n    var _loop = function _loop() {\n      var img = _step.value;\n      var new_img = new Image();\n      var new_src = img.getAttribute(data_att);\n      new_img.src = new_src;\n      new_img.addEventListener('load', function () {\n        img.src = new_img.src;\n      });\n      new_img.addEventListener('error', function () {\n        console.error(\"Could not replace image \" + img.src + \" with \" + new_src + \".\");\n      });\n      if (new_img.complete) {\n        img.src = new_img.src;\n      }\n\n      // Check whether the image is inside a <figure>.\n      var figure = img.closest('figure');\n      if (figure != undefined) {\n        var anchor = figure.querySelector('a');\n        if (anchor.getAttribute('href') !== new_src) {\n          anchor.href = new_src;\n        }\n      } else if (img.parentElement.tagName == \"A\" && img.parentElement.getAttribute(\"href\") !== new_src) {\n        var parent = img.parentElement;\n        parent.href = img.getAttribute(data_att);\n      }\n    };\n    for (var _iterator = _createForOfIteratorHelperLoose(images), _step; !(_step = _iterator()).done;) {\n      _loop();\n    }\n  };\n  this._schemes = [];\n  this._mediaqs = [];\n\n  // If options are not given or if it is given with a key 'auto'\n  // and a boolean value true, then the instance created will add\n  // an event listener for changes on prefers-color-scheme to\n  // update images accordingly.\n  this._auto = options.hasOwnProperty('auto') ? options['auto'] === true : true;\n  var meta_prop = document.querySelector('meta[name=\"color-scheme\"]');\n  var meta_schemes = meta_prop == undefined ? \"\" : meta_prop.content;\n  if (meta_schemes.length > 0) {\n    var schemes = meta_schemes.split(\" \");\n    for (var _iterator2 = _createForOfIteratorHelperLoose(schemes), _step2; !(_step2 = _iterator2()).done;) {\n      var item = _step2.value;\n      this._schemes.push(item.trim());\n    }\n  } else {\n    this._schemes = ['light', 'dark'];\n  }\n  var _loop2 = function _loop2() {\n    var scheme = _step3.value;\n    var q = globalThis.matchMedia(\"(prefers-color-scheme: \" + scheme + \")\");\n    if (q.matches) {\n      _this.activate(scheme);\n    }\n    if (_this._auto === true) {\n      q.addEventListener('change', function (e) {\n        if (e.matches) {\n          _this.activate(scheme);\n        }\n      });\n      _this._mediaqs.push(q);\n    }\n  };\n  for (var _iterator3 = _createForOfIteratorHelperLoose(this._schemes), _step3; !(_step3 = _iterator3()).done;) {\n    _loop2();\n  }\n};\n\nexport { SphinxColorschemeImageHandler };\n//# sourceMappingURL=sphinx-colorschemed-images.esm.js.map\n","import { SphinxColorschemeImageHandler } from \"sphinx-colorschemed-images\";\n\nexport class CSchemeHandler {\n  constructor() {\n    this.stored = localStorage.getItem('snftt-color-scheme') || \"default\";\n    this._cshdl = new SphinxColorschemeImageHandler({auto: false});\n    for (const scheme of ['dark', 'light']) {\n      const q = globalThis.matchMedia(`(prefers-color-scheme: ${scheme})`);\n      if (q.matches && this.stored == 'default') {\n        this.apply(scheme);\n        this.updateDropdown(this.stored);\n        this._cshdl.activate(scheme);\n      }\n      q.addEventListener('change', e => {\n        if (e.matches) {\n          this.apply(scheme);\n          this._cshdl.activate(scheme);\n        }\n      });\n    }\n    if (this.stored != \"default\") {\n      this.apply(this.stored);\n      this.updateDropdown(this.stored);\n      this._cshdl.activate(this.stored);\n    }\n  }\n\n  registerClickEvents() {\n    for (const item of document.querySelectorAll('[data-snftt-luz]')) {\n      item.addEventListener('click', (event) => {\n        event.preventDefault();\n        this.stored = item.dataset.snfttLuz;\n        localStorage.setItem('snftt-color-scheme', this.stored);\n        this.apply(this.stored);\n        this.updateDropdown(this.stored, true);\n        this._cshdl.activate(this.preferred);\n      });\n    };\n  }\n\n  get preferred() {\n    if ([\"light\", \"dark\"].includes(this.stored)) {\n      return this.stored;\n    }\n    const q = globalThis.matchMedia('(prefers-color-scheme: dark)');\n    return q.matches ? 'dark' : 'light';\n  }\n\n  apply(option) {\n    switch(option) {\n      case \"default\": {\n        document.documentElement.classList.remove(\"light\");\n        document.documentElement.classList.remove(\"dark\");\n        document.documentElement.classList.add(this.preferred);\n        return;\n      }\n      case \"dark\": {\n        document.documentElement.classList.remove('light');\n        document.documentElement.classList.add('dark');\n        return;\n      }\n      case \"light\": {\n        document.documentElement.classList.remove('dark');\n        document.documentElement.classList.add('light');\n        return;\n      }\n    }\n  }\n\n  updateDropdown(cscheme, focus = false) {\n    const prefix = \"data-snftt-luz\";\n    const selector = document.querySelector(\"#snftt-luz\");\n    const sel_icon = document.querySelector(`[${prefix}-icon-active]`);\n    const luz_item = document.querySelector(`[${prefix}=\"${cscheme}\"]`);\n    const luz_icon = document.querySelector(`[${prefix}-icon=\"${cscheme}\"]`);\n\n    const elements = document.querySelectorAll(`[${prefix}]`);\n    for (const element of elements) {\n      element.classList.remove('active', 'current');\n      element.setAttribute('aria-pressed', 'false');\n    };\n\n    if (luz_item != undefined) {\n      luz_item.classList.add('active', 'current');\n      luz_item.setAttribute('aria-pressed', 'true');\n    }\n\n    sel_icon?.setAttribute('class', luz_icon.classList.value);\n\n    if (focus) {\n      selector.focus();\n    }\n  }\n}\n","// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst TEMPLATE_SELECTOR = \"[data-toggle-item-template]\";\n\nfunction loadRefList() {\n  let refs = [];\n  const toc_expanded_stored = localStorage.getItem(\"toc-expanded\");\n  if (toc_expanded_stored?.trim().length) {\n    refs = toc_expanded_stored.split(\",\");\n  }\n\n  return refs;\n}\n\nexport class MenuHandler {\n  constructor() {\n    this.toc;\n    this.refs;\n    this.filter;\n  }\n\n  _removeRef = (ref) => {\n    const pos = this.refs.indexOf(ref);\n    if (pos > -1) {\n      this.refs.splice(pos, 1);\n      localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n    }\n  }\n\n  _expandRefs = () => {\n    for (const ref of this.refs) {\n      const li_item = this.toc.querySelector(`li[data-snftt-ref='${ref}']`);\n      if (li_item == undefined) {\n        this._removeRef(ref);\n        continue;\n      }\n      if (!li_item.classList.contains(\"expand\")) {\n        li_item.classList.toggle(\"expand\");\n        this._updateItem(li_item);\n      }\n    }\n  }\n\n  _expandOrFoldAll = (expand=true) => {\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const li_item = link.parentElement;\n        if (expand) {\n          li_item.classList.add(\"expand\");\n        } else {\n          li_item.classList.remove(\"expand\");\n        }\n        this._updateItem(li_item, false);\n      }\n    }\n  }\n\n  _updateItem = (li_item, update_refs=true) => {\n    const icon = li_item.querySelector(\"i\");\n\n    if (li_item.classList.contains(\"expand\")) {\n      icon.classList.remove(\"bi-caret-right\");\n      icon.classList.add(\"bi-caret-down\");\n      if (update_refs && !this.refs.includes(li_item.dataset.snfttRef)) {\n        this.refs.push(li_item.dataset.snfttRef);\n        localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n      }\n    } else {\n      icon.classList.remove(\"bi-caret-down\");\n      icon.classList.add(\"bi-caret-right\");\n      if (update_refs && this.refs.includes(li_item.dataset.snfttRef)) {\n        this._removeRef(li_item.dataset.snfttRef);\n      }\n    }\n  }\n\n  _clickHandler = (event) => {\n    const expand_button = event.currentTarget;\n    const element = expand_button?.parentElement;\n    element.classList.toggle(\"expand\");\n    this._updateItem(element);\n  }\n\n  _keyupHandler = (event) => {\n    const uls = this.toc.querySelectorAll(\"ul\");\n    const links = this.toc.querySelectorAll(\"a.reference\");\n\n    // Stop filtering -> remove d-none from all li and ul elements.\n    if (this.filter.value.length === 0) {\n      for (const link of links) {\n        link.parentElement?.classList.remove(\"d-none\");\n      }\n      for (const ul of uls) {\n        ul.classList.remove(\"d-none\");\n      }\n      this._expandOrFoldAll(false);  // Passing false means fold.\n      this._expandRefs();\n      return;\n    }\n\n    // 1st. hide all li elements in the toc.\n    for (const link of links) {\n      link.parentElement?.classList.add(\"d-none\");\n    }\n    for (const ul of uls) {\n      ul.classList.add(\"d-none\");\n    }\n\n\n    this._expandOrFoldAll(true);\n\n    // 2nd. show li elements whose anchor matches the filter.\n    const filter_re = new RegExp(this.filter.value, 'i');\n    for (const link of links) {\n      if (!filter_re.test(link.textContent))\n        continue;\n\n      let li_item = link;\n      let parent = li_item?.parentElement;\n\n      while (li_item) {  // Loop to make visible parent elements up the toc.\n        li_item.classList.remove(\"d-none\");\n        parent = li_item.parentElement;\n        if (parent.nodeName === \"UL\") {\n          parent?.classList.remove(\"d-none\");\n        }\n        li_item = parent?.closest(\"li\");\n      }\n    }\n  }\n\n  init = () => {\n    let num_expandable_menus = 0;\n    this.toc = document.querySelector(\".toc\");\n    this.filter = this.toc.querySelector(\"input[name='filter']\");\n    this.refs = loadRefList();\n\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n\n    const tmpl = document.querySelector(TEMPLATE_SELECTOR);\n    const tmpl_button = tmpl?.content.firstElementChild;\n\n    if (tmpl_button == undefined)\n      return -1;\n\n    this.filter.addEventListener('keyup', this._keyupHandler);\n\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const expand_button = tmpl_button.cloneNode(true);\n        expand_button.addEventListener('click', this._clickHandler, true);\n        link.before(expand_button);\n\n        // Maybe there is already a LI item displayed with the\n        // \"current\" class added. In such a case update the\n        // icon to display a dash symbol instead of a plus.\n        const li_item = link.parentElement;\n        li_item.dataset.snfttRef = link.href;\n        if (li_item && li_item.classList.contains(\"current\")) {\n          li_item.classList.toggle(\"current\");\n          li_item.classList.toggle(\"expand\");\n          this._updateItem(li_item);\n        }\n\n        num_expandable_menus++;\n      }\n    }\n\n    // Expand items that where expanded before,\n    // and saved in localStorage.\n    this._expandRefs();\n\n    return num_expandable_menus;\n  }\n}\n","function _addActiveCssClass(elem) {\n  elem.classList.add(\"active\");\n  elem.ariaCurrent=true;\n  if (elem.classList.contains(\"dropdown-item\")) {\n    const parent = elem.closest(\"li.nav-item.dropdown\");\n    if (!parent) return;\n\n    const anchor = parent.querySelector(\"a.nav-link.dropdown-toggle\")\n    if (!anchor) return;\n\n    if (anchor) {\n      anchor.classList.add(\"active\");\n      anchor.ariaCurrent = true;\n    }\n  }\n}\n\nexport function selectActiveHeaderLink() {\n  const curl = URL.parse(window.location.href);\n\n  for (const elem of document.querySelectorAll(\".snftt-hl\")) {\n    elem.classList.remove(\"active\");\n    elem.ariaCurrent = false;\n  }\n\n  // Activate the current link:\n  let qs = `.snftt-hl[href='#']`;\n  for (const elem of document.querySelectorAll(qs)) {\n    if (!elem.classList.contains(\"dropdown-toggle\")) {\n      _addActiveCssClass(elem);\n    }\n  }\n\n  // Find header-link element (.snftt-hl) with regexps, and\n  // check whether the current pathname matches the regexp.\n  let hl_id = 0;  // Not found.\n  qs = \".nftt-header-links-large .snftt-hl[data-snftt-hl-regexps]\"\n  for (const elem of document.querySelectorAll(qs)) {\n    const regexps = elem.dataset.snfttHlRegexps.split(\"&&\");\n    for (const re_str of regexps) {\n      const re = new RegExp(re_str);\n      if (re.test(curl.pathname)) {\n        // The first regexp that returns true is considered valid. Leave\n        // the loop and select the two elements with the same hl-id.\n        hl_id = elem.dataset.snfttHlId;\n        break;\n      }\n    }\n  }\n\n  if (hl_id == 0)\n    return;\n\n  qs = `.snftt-hl[data-snftt-hl-id='${hl_id}']`;\n  for (const elem of document.querySelectorAll(qs)) {\n    _addActiveCssClass(elem);\n  }\n}\n","export function formatNumber(num) {\n  const def_locale = document.documentElement.lang || \"en\";\n  return num.toLocaleString(def_locale, {\n    maximumFractionDigits: 2,\n    notation: 'compact',\n    compactDisplay: 'short'\n  });\n}\n","import { formatNumber } from \"./utils.js\";\n\nexport async function readFromGitHub(user, repo) {\n  let tag = \"\";\n  let stars = \"\";\n  let forks = \"\";\n  const url = `https://api.github.com/repos/${user}/${repo}`;\n\n  const response1 = await fetch(url);\n  if (response1.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data1 = await response1.json();\n\n  stars = formatNumber(data1.stargazers_count);\n  localStorage.setItem(`${user}:${repo}:stars`, stars);\n  forks = formatNumber(data1.forks_count);\n  localStorage.setItem(`${user}:${repo}:forks`, forks);\n\n  const response2 = await fetch(`${url}/releases/latest`);\n  if (response2.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data2 = await response2.json();\n  tag = data2.tag_name;\n  localStorage.setItem(`${user}:${repo}:tag`, tag);\n\n  if (tag !== \"\" && stars != \"\" && forks != \"\") {\n    return {tag, stars, forks};\n  }\n}\n","import { formatNumber } from \"./utils.js\";\n\nexport async function readFromGitLab(base, project) {\n  let stars = \"\";\n  let forks = \"\";\n  const url = `https://${base}/api/v4/projects/${encodeURIComponent(project)}`;\n  const response = await fetch(url);\n  if (response.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data = await response.json();\n  stars = formatNumber(data.star_count);\n  localStorage.setItem(`${base}:${project}:stars`, stars);\n  forks = formatNumber(data.forks_count);\n  localStorage.setItem(`${base}:${project}:forks`, forks);\n\n  if (stars != \"\" && forks != \"\") {\n    return {tag: \"\", stars, forks};\n  }\n}\n","import { readFromGitHub } from \"./github.js\";\nimport { readFromGitLab } from \"./gitlab.js\";\n\n\nconst ls = localStorage;  // Aliasing localStorage.\n\nconst qs_repo_url = \"[data-snftt-repo-url]\";\nconst qs_repo_facts = \"[data-snftt-repo-metrics]\";\nconst qs_repo_tag = \"[data-snftt-repo-tag]\";\nconst qs_repo_stars = \"[data-snftt-repo-stars]\";\nconst qs_repo_forks = \"[data-snftt-repo-forks]\";\n\n\nfunction _updateFactsComponent(metrics) {\n  let num_updated_facts = 0;\n  const facts_element = document.querySelector(qs_repo_facts);\n  const tag_element = document.querySelector(qs_repo_tag);\n  const stars_element = document.querySelector(qs_repo_stars);\n  const forks_element = document.querySelector(qs_repo_forks);\n\n  if (metrics.tag != undefined && metrics.tag.length > 0) {\n    tag_element.textContent = metrics.tag;\n    num_updated_facts++;\n  } else {\n    tag_element.parentElement.classList.remove(\"d-flex\");\n    tag_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.stars != undefined && metrics.stars.length > 0) {\n    stars_element.textContent = metrics.stars;\n    num_updated_facts++;\n  } else {\n    stars_element.parentElement.classList.remove(\"d-flex\");\n    stars_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.forks != undefined && metrics.forks.length > 0) {\n    forks_element.textContent = metrics.forks;\n    num_updated_facts++;\n  } else {\n    forks_element.parentElement.classList.remove(\"d-flex\");\n    forks_element.parentElement.classList.add(\"d-none\");\n  }\n\n  facts_element.classList.add(\"ready\");\n  return num_updated_facts;\n}\n\n\nfunction _readFromLocalStorage(p1, p2) {\n  const tag = ls.getItem(`${p1}:${p2}:tag`);\n  const stars = ls.getItem(`${p1}:${p2}:stars`);\n  const forks = ls.getItem(`${p1}:${p2}:forks`);\n  if (!stars || !forks) {\n    return {tag: \"\", stars: \"\", forks: \"\"};\n  }\n  return {tag, stars, forks};\n}\n\n\nexport async function _getRepoMetrics(host, p1, p2) {\n  let metrics;\n  const last_access = ls.getItem(`${p1}:${p2}:lastaccess`);\n\n  if (last_access) {\n    const now = Date.now();\n    const ts = new Date();\n    ts.setTime(Number.parseInt(last_access) + 60_000);\n    if (ts.getTime() > now) {\n      // Now is still under last_access + 60 secs.\n      // Go get metrics from localStorage...\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  if (!metrics) {\n    try {\n      switch (host) {\n        case \"github\": {\n          metrics = await readFromGitHub(p1, p2);\n          break;\n        }\n        case \"gitlab\": {\n          metrics = await readFromGitLab(p1, p2);\n          break;\n        }\n      }\n      localStorage.setItem(`${p1}:${p2}:lastaccess`, `${Date.now()}`);\n    } catch {\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  return metrics;\n}\n\n\nexport async function updateRepoMetrics() {\n  const repo_url_element = document.querySelector(qs_repo_url);\n  const url = repo_url_element ? repo_url_element.dataset.snfttRepoUrl : \"\";\n\n  /* Try to match GitHub repository */\n  let github_match = url.match(/^.+github\\.com\\/([^/]+)\\/?([^/]+)?/i);\n  if (github_match) {\n    const [, user, repo] = github_match;\n    const metrics = await _getRepoMetrics(\"github\", user, repo);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  /* Try to match GitLab repository */\n  let gitlab_match = url.match(/^.+?([^/]*gitlab[^/]+)\\/(.+?)\\/?$/i)\n  if (gitlab_match) {\n    const [, base, slug] = gitlab_match;\n    const metrics = await _getRepoMetrics(\"gitlab\", base, slug);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  return -1;\n}\n","export class TocObserver {\n  constructor() {\n    this.doc;\n    this.toc;\n    this.section_observer;\n  }\n\n  _sectionsObservationHandler = (entries) => {\n    entries.map(item => {\n      const sec = item.target;\n      const target = this.toc.querySelector(`a[href='#${sec.id}']`);\n      const parent = target?.parentElement;\n      if (item.isIntersecting === true) {\n        parent?.classList.add(\"active\");\n      } else {\n        parent?.classList.remove(\"active\");\n      }\n    });\n  }\n\n  _initializeSectionsObserver = (root_margin) => {\n    this.section_observer = new IntersectionObserver(\n      this._sectionsObservationHandler,\n      {\n        root: undefined,\n        rootMargin: root_margin,\n        threshold: [0, 0.25, 0.5, 0.75, 1],\n      }\n    );\n\n    for (const element of this.doc.querySelectorAll(\":scope section\")) {\n      this.section_observer.observe(element);\n    }\n  }\n\n  init = () => {\n    this.doc = document.querySelector(\".nftt-content\");\n    this.toc = document.querySelector(\"#TableOfContents\");\n    if (this.doc == undefined || this.toc == undefined) {\n      return -1;\n    }\n\n    const header_h = document.querySelector(\"header\")?.offsetHeight;\n    const root_margin = `-${header_h || 0}px 0px 0px 0px`;\n\n    // The first link in the Toc does not point to the first\n    // header. Fix that situation by reading what is the actual href\n    // of the first header with class=\"headerlink\", and then update\n    // the first link in the toc.\n    const document_1a = this.doc.querySelector(\"section a.headerlink\");\n    const toc_1a = this.toc.querySelector(\"a.reference[href='#']\");\n    if (document_1a != undefined && toc_1a != undefined) {\n      toc_1a.setAttribute(\"href\", document_1a.getAttribute(\"href\"));\n    }\n\n    // Sphinx returns anchors in the toc with the class \"internal\"\n    // and \"reference\". Also, it returns the first anchor with the\n    // class \"active\", which is not correct, as I want the\n    // IntersectionObserver to handle what is the section\n    // active in each moment. Therefore, I remove here\n    // the \"active\" class from all anchors in the toc.\n    const anchors = this.toc.querySelectorAll(\"a.reference\");\n    for (const anchor of anchors) {\n      anchor.classList.remove(\"active\");\n    }\n\n    this._initializeSectionsObserver(root_margin);\n    return 0;\n  }\n}\n\n\nexport class LocationHashHandler {\n  constructor() {\n    this.toc = document.querySelector(\"#TableOfContents\");\n    window.addEventListener(\"hashchange\", this.hashChanged);\n    this.hashChanged();\n  }\n\n  isInViewport = (element) => {\n    const rect = element.getBoundingClientRect();\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (\n        window.innerHeight || document.documentElement.clientHeight\n      ) &&\n      rect.right <= (\n        window.innerWidth || document.documentElement.clientWidth\n      )\n    );\n  }\n\n  hashChanged = (_) => {\n    const anchors = this.toc?.querySelectorAll(\"a.reference.internal\") || [];\n    for (const anchor of anchors) {\n      anchor.classList.remove(\"active\");\n    }\n\n    const ubits = window.location.href.split(\"#\");\n    if (ubits.length > 1) {\n      const toc_ref = `a.reference.internal[href='#${ubits[1]}']`;\n      const toc_ref_elem = this.toc.querySelector(toc_ref);\n      if (toc_ref_elem) {\n        toc_ref_elem.classList.add(\"active\");\n        if (!this.isInViewport(toc_ref_elem)) {\n          toc_ref_elem.scrollIntoView({\n            behavior: \"smooth\", block: \"center\"\n          });\n        }\n      }\n    }\n  }\n}\n","export function resizeAsides() {\n  let style = \"\";\n  let height = \"\";\n  let top = \"\";\n\n  const nftt_content = document.querySelector(\".nftt-content\");\n  const nftt_sidebar = document.querySelector(\".nftt-sidebar\");\n  const backtotop_div = document.getElementById(\"back-to-top-container\");\n  const nftt_toc = document.querySelector(\".nftt-toc\");\n  const header_h = document.querySelector(\"header\")?.offsetHeight;\n\n  // If min-width is not >= 1200px, don't do anything.\n  if (window.matchMedia('(min-width: 1200px)').matches == false) {\n    nftt_sidebar?.setAttribute(\"style\", \"\");\n    nftt_toc?.setAttribute(\"style\", \"\");\n    return \"\";\n  }\n\n  if (nftt_content != undefined) {\n    height = nftt_content.clientHeight > document.body.clientHeight\n      ? `height: calc(100vh - ${header_h + 40}px)`\n      : `height: ${nftt_content.clientHeight}px`;\n    top = `top: ${header_h + 40}px`;\n\n    style = `${height}; ${top};`\n    nftt_sidebar?.setAttribute(\"style\", style);\n    nftt_toc?.setAttribute(\"style\", style);\n    backtotop_div?.setAttribute(\"style\", `top: ${header_h + 20}px`);\n  }\n\n  return style;\n}\n\n\nexport function updateScrollPaddingTop() {\n  let scroll_padding_top = -1;\n  const element = document.querySelector(\"html\");\n  const header_h = element.querySelector(\"header\")?.offsetHeight;\n  if (header_h != undefined) {\n    scroll_padding_top = header_h + 24;\n    element.setAttribute(\n      \"style\", `scroll-padding-top: ${scroll_padding_top}px`\n    );\n  }\n  return scroll_padding_top;\n}\n","const qs_version_url = \"[data-snftt-version-url]\";\n\nfunction _getCurrentVersion() {\n  const all_version_elems = document.querySelectorAll(qs_version_url);\n  for (const version_elem of all_version_elems) {\n    let version_url = version_elem.dataset?.snfttVersionUrl;\n    version_url = version_url.replace(\"?\", String.raw`\\?`);\n    if (new RegExp(version_url).test(window.location.href)) {\n      return version_elem.dataset?.snfttVersion;\n    };\n  }\n  return globalThis.def_ver || \"\";\n}\n\nexport function updateVersion() {\n  const version = _getCurrentVersion();\n  const qs_version_active = \"[data-snftt-version-active]\";\n  const version_active = document.querySelector(qs_version_active);\n  const qs_version_item = `[data-snftt-version=\"${version}\"]`;\n  const version_item = document.querySelector(qs_version_item);\n\n  for (const element of document.querySelectorAll('[data-snftt-version]')) {\n    element.classList.remove('active', 'current');\n    element.setAttribute('aria-pressed', 'false');\n  }\n\n  if (version_item != undefined) {\n    version_item.classList.add('active', 'current');\n    version_item.setAttribute('aria-pressed', 'true');\n    if (version_active != undefined) {\n      version_active.textContent = version_item.dataset.snfttVersion;\n    }\n  }\n}\n\nexport function feedVersionsMenu() {\n  const vermenu = document.getElementById(\"versions-dropdown-menu\");\n  if (!vermenu) {\n    console.log(\"Did not find the versions dropdown menu.\");\n    return false;\n  }\n  // Use the variable 'docs_versions' loaded as a script in layout.html.\n  // The file docs_versions.js is produced by versions.py when building\n  // the site (make html).\n  for (const item of globalThis.docs_versions) {\n    const li = document.createElement(\"li\");\n    const anchor = document.createElement(\"a\");\n    anchor.classList.add(\n      \"dropdown-item\", \"d-flex\", \"align-items-center\",\n      \"justify-content-between\"\n    );\n    anchor.setAttribute(\"aria-pressed\", \"false\");\n    anchor.setAttribute(\"href\", item.url);\n    anchor.dataset.snfttVersionUrl = item.url;\n    anchor.dataset.snfttVersion = item.name;\n    const span = document.createElement(\"span\");\n    span.classList.add(\"ms-2\");\n    span.textContent = item.name;\n    const i = document.createElement(\"i\");\n    i.classList.add(\"bi\", \"bi-check\", \"ms-auto\");\n    anchor.append(span);\n    anchor.append(i);\n    li.append(anchor);\n    vermenu.append(li);\n  }\n\n  return true;\n}\n","import { BackToTop } from \"./backtotop.js\";\nimport { fixFigureStyle } from \"./figures.js\";\nimport { CSchemeHandler } from \"./cschemes.js\";\nimport { MenuHandler } from \"./menu.js\";\nimport { selectActiveHeaderLink } from \"./navbar.js\";\nimport { updateRepoMetrics } from \"./repometrics.js\";\nimport { LocationHashHandler, TocObserver } from \"./pagetoc.js\";\nimport { resizeAsides, updateScrollPaddingTop } from \"./tocresize.js\";\nimport { feedVersionsMenu, updateVersion } from \"./versions.js\";\n\n\nfunction agentHas(keyword) {\n  return navigator.userAgent.toLowerCase().search(keyword.toLowerCase()) > -1;\n}\n\nfunction isFirefox() {\n  return agentHas(\"Firefox\") || agentHas(\"FxiOS\") || agentHas(\"Focus\");\n}\n\nfunction isSafari() {\n  return (\n    !!window.ApplePaySetupFeature\n    || !!window.safari\n  ) && agentHas(\"Safari\") && !agentHas(\"Chrome\") && !agentHas(\"CriOS\");\n}\n\nfunction runWhenDOMContentLoaded(cb) {\n  if (document.readyState != 'loading') {\n    cb();\n  } else if (document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', cb);\n  } else {\n    document.attachEvent('onreadystatechange', function() {\n      if (document.readyState == 'complete') cb();\n    });\n  }\n}\n\nfunction loadSphinxNefertiti() {\n  // docutils figures that receive specific dimension styling\n  // (basically: width or height) apply the styling to the <img> element\n  // instead of to the <figure>. That makes the <figcaption> to have\n  // a width wider than the image. The fixFigureStyle function\n  // moves the style when it contains a specific value for the\n  // \"width\" dimension.\n  fixFigureStyle();\n\n  const menu_handler = new MenuHandler();\n  if (menu_handler.init() == -1) {\n    console.log(\"Could not find the <template data-toggle-item-template>.\");\n    console.log(\"Therefore left side nested menu entries will not be visible.\")\n  };\n\n  // --------------------------------------------------\n  // On every page load, adjust height of nftt-sidebar\n  // and nftt-toc, based on height of nftt-content.\n  //\n  updateScrollPaddingTop();\n  resizeAsides(); // Resize just after DOM content is loaded.\n\n  // And register the function for every height change of the body.\n  const body_observer = new ResizeObserver(entries => {\n    const header_h = document.querySelector(\"header\")?.offsetHeight;\n    document.body.style.paddingTop = `${header_h + 4}px`;\n\n    updateScrollPaddingTop();\n    resizeAsides();\n  });\n  body_observer.observe(document.body);\n  window.addEventListener(\"resize\", [updateScrollPaddingTop, resizeAsides,]);\n\n  // The CSchemeHandler controls the selection of the 3 possible\n  // options (light, dark, default) and the switching between\n  // them.\n  const cscheme_handler = new CSchemeHandler();\n  cscheme_handler.registerClickEvents();\n\n  // Feed the versions dropdown element.\n  feedVersionsMenu();\n\n  // The updateVersion function controls the display of the version\n  // in the header, adding the CSS class \"current\" to display the\n  // tick symbol near the version selected.\n  updateVersion();\n\n  // The function updateRepoMetrics updates the details related to the\n  // repository in the header.\n  if(updateRepoMetrics() == -1) {\n    console.log(\"Could not find an element with [data-snftt-repo-url]\");\n  };\n\n  // Create the table of contents out of the content\n  // of the nftt-content.\n  const toc_observer = new TocObserver();\n  toc_observer.init();\n\n  if (isSafari() || isFirefox()) {\n    let css_content;\n    const head = document.head;\n\n    if (isSafari()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.8rem;\" +\n        \"}\"\n      );\n    } else if (isFirefox()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.55rem;\" +\n        \"}\"\n      );\n    }\n\n    const style = document.createElement(\"style\");\n    style.append(document.createTextNode(css_content));\n    head.append(style);\n  }\n\n  // Fix accessibility in each input element\n  // with class 'task-list-item-checkbox'.\n  const task_list_elems_qs = \"input.task-list-item-checkbox\";\n  const task_list_elems = document.querySelectorAll(task_list_elems_qs);\n  for (const element of task_list_elems) {\n    // Add a title to each input element.\n    element.setAttribute('title', `Is task done? ${element.checked}`);\n  }\n\n  // Wrap tables with responsive container.\n  const tables = document.querySelectorAll('table.docutils');\n  for (const table of tables) {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"nftt-table\");\n    table.before(wrapper);\n    wrapper.append(table);\n  }\n\n  // Fix admonitions-like blocks used in Sphinx to display version\n  // changes. Such directives are: versionadded, versionchanged,\n  // deprecated, and versionremoved.\n  const vchanges_selectors = [\n    [\"div.versionadded\", \"versionadded\", \"versionadded-title-only\"],\n    [\"div.versionchanged\", \"versionchanged\", \"versionchanged-title-only\"],\n    [\"div.deprecated\", \"deprecated\", \"deprecated-title-only\"],\n    [\"div.versionremoved\", \"versionremoved\", \"versionremoved-title-only\"],\n  ];\n  for (const lst of vchanges_selectors) {\n    const [ selector, src_class, tgt_class ] = lst;\n    const elems = document.querySelectorAll(selector);\n\n    for (const div of elems) {\n      // The 'p' contained in the div might contain just a <span>, or\n      // a <span> and a text node. The 2nd case is when the versionadded\n      // directive receives additional text, right below the directive.\n      // If the directive only gets the version number, without\n      // additional text below, then I the selector should\n      // change to .versionadded-title-only, so that it\n      // does not display an empty block below.\n\n      if (div.querySelector(\"p\").childNodes.length == 1) {\n        div.classList.replace(src_class, tgt_class);\n      }\n    }\n  }\n\n  const back_to_top = new BackToTop();\n  back_to_top.init();\n\n  // In case there were Header Links (.snftt-hl) add the class\n  // 'active' to the one corresponding to the current URL.\n  selectActiveHeaderLink();\n\n  // -------------------------------------------------------------------\n  // Scroll the item from the left sidebar into view:\n  const sidebar_elem = document.querySelector(\".nftt-sidebar a.current\");\n  if (sidebar_elem) {\n    const parent = sidebar_elem.closest(\".toc li\");\n    if (parent) {\n      parent.scrollIntoView({behavior: \"smooth\", block: \"end\"});\n    }\n  }\n  // And scroll down to the anchor name referred in the URL in the TOC.\n  const location_hash_handler = new LocationHashHandler();\n}\n\nrunWhenDOMContentLoaded(loadSphinxNefertiti);\n"],"mappings":"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","ignoreList":[]}