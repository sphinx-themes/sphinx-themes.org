{"version":3,"names":["BACK_TO_TOP_BUTTON_ID","BACK_TO_TOP_DIV_ID","NAVBAR_ID","DEFAULT_NAVBAR_HEIGHT","BackToTop","_this","this","_scrollHandler","event","y_offset","window","pageYOffset","document","documentElement","scrollTop","prev_offset","navbar_height","btn","classList","add","remove","_scrollToTopHandler","preventDefault","init","addEventListener","getElementById","navbar","offsetHeight","style","top","FIGURE_IMG_SELECTOR","fixFigureStyle","_step","_iterator","_createForOfIteratorHelperLoose","querySelectorAll","done","figure","value","img","querySelector","width","height","elem_width","figcaption","_arrayLikeToArray","r","a","length","e","n","Array","t","Symbol","iterator","call","next","bind","isArray","_unsupportedIterableToArray","o","TypeError","toString","slice","constructor","name","from","test","SphinxColorschemeImageHandler","options","activate","scheme","data_att","_loop","new_img","Image","new_src","getAttribute","src","console","error","complete","closest","undefined","anchor","href","parentElement","tagName","_schemes","_mediaqs","_auto","hasOwnProperty","meta_prop","meta_schemes","content","_step2","_iterator2","split","item","push","trim","_step3","_loop2","q","globalThis","matchMedia","matches","_iterator3","CSchemeHandler","stored","localStorage","getItem","_cshdl","auto","_arr","_i","apply","updateDropdown","_proto","prototype","registerClickEvents","_this2","dataset","snfttLuz","setItem","preferred","cscheme","updateExplicitElements","prefer","closeBtns","textSel","textElems","txtElem","_step4","_iterator4","_step5","_iterator5","focus","_step6","prefix","selector","sel_icon","luz_item","luz_icon","_iterator6","element","setAttribute","_createClass","key","get","includes","TEMPLATE_SELECTOR","loadRefList","refs","toc_expanded_stored","MenuHandler","_removeRef","ref","pos","indexOf","splice","join","_expandRefs","li_item","toc","contains","toggle","_updateItem","_expandOrFoldAll","expand","link","nextElementSibling","update_refs","icon","snfttRef","_clickHandler","expand_button","currentTarget","_keyupHandler","uls","links","filter","_link$parentElement","_link$parentElement2","_step7","filter_re","RegExp","_iterator7","_li_item","textContent","parent","_parent2","_parent","nodeName","num_expandable_menus","tmpl","tmpl_button","firstElementChild","_step8","_iterator8","cloneNode","before","_addActiveCssClass","elem","ariaCurrent","selectActiveHeaderLink","curl","URL","parse","location","qs","hl_id","snfttHlRegexps","re_str","pathname","snfttHlId","formatNumber","num","def_locale","lang","toLocaleString","maximumFractionDigits","notation","compactDisplay","readFromGitHub","_x","_x2","_readFromGitHub","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","repo","tag","stars","forks","url","response1","data1","response2","data2","wrap","_context","prev","fetch","sent","status","Error","json","stargazers_count","forks_count","tag_name","abrupt","stop","readFromGitLab","_readFromGitLab","base","project","response","data","encodeURIComponent","star_count","ls","qs_repo_url","qs_repo_facts","qs_repo_tag","qs_repo_stars","qs_repo_forks","_updateFactsComponent","metrics","num_updated_facts","facts_element","tag_element","stars_element","forks_element","_readFromLocalStorage","p1","p2","_getRepoMetrics","_x3","_getRepoMetrics2","host","last_access","now","ts","Date","setTime","Number","parseInt","getTime","t0","t1","updateRepoMetrics","_updateRepoMetrics","_callee2","repo_url_element","github_match","gitlab_match","slug","_metrics","_context2","snfttRepoUrl","match","TocObserver","_sectionsObservationHandler","entries","map","sec","target","id","isIntersecting","_initializeSectionsObserver","root_margin","section_observer","IntersectionObserver","root","rootMargin","threshold","doc","observe","_document$querySelect","document_1a","toc_1a","LocationHashHandler","isInViewport","rect","getBoundingClientRect","left","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","hashChanged","_","_this2$toc","ubits","_this2$toc2","toc_ref","toc_ref_elem","scrollIntoView","behavior","block","resizeAsides","nftt_content","nftt_sidebar","backtotop_div","nftt_toc","header_h","body","updateScrollPaddingTop","_element$querySelecto","scroll_padding_top","qs_version_url","_getCurrentVersion","_version_elem$dataset","_version_elem$dataset2","version_elem","version_url","snfttVersionUrl","replace","String","raw","_templateObject","_taggedTemplateLiteralLoose","snfttVersion","def_ver","updateVersion","version","version_active","qs_version_item","version_item","feedVersionsMenu","vermenu","log","docs_versions","li","createElement","span","i","append","agentHas","keyword","navigator","userAgent","toLowerCase","search","isFirefox","isSafari","ApplePaySetupFeature","safari","runWhenDOMContentLoaded","cb","readyState","attachEvent","loadSphinxNefertiti","ResizeObserver","paddingTop","css_content","head","createTextNode","checked","table","wrapper","_vchanges_selectors","lst","src_class","tgt_class","div","childNodes","sidebar_elem"],"sources":["../../js/src/backtotop.js","../../js/src/figures.js","../../node_modules/sphinx-colorschemed-images/dist/js/sphinx-colorschemed-images.esm.js","../../js/src/cschemes.js","../../js/src/menu.js","../../js/src/navbar.js","../../js/src/utils.js","../../js/src/github.js","../../js/src/gitlab.js","../../js/src/repometrics.js","../../js/src/pagetoc.js","../../js/src/tocresize.js","../../js/src/versions.js","../../js/src/index.js"],"sourcesContent":["const BACK_TO_TOP_BUTTON_ID = \"back-to-top\";\nconst BACK_TO_TOP_DIV_ID = \"back-to-top-container\";\n\n// Uses the element ID of the navbar, to find out its height and\n// put the back-to-top button below the navbar, 16px below it.\nconst NAVBAR_ID = \"snftt-nav-bar\";\n\n// If it can't find out the navigation bar height, use the\n// following default instead.\nconst DEFAULT_NAVBAR_HEIGHT = 60;  // pixels.\n\n\nexport class BackToTop {\n  constructor() {\n    this.btn = document.getElementById(BACK_TO_TOP_BUTTON_ID);\n    this.prev_offset = 0;\n    const navbar = document.getElementById(NAVBAR_ID);\n    this.navbar_height = navbar.offsetHeight || DEFAULT_NAVBAR_HEIGHT;\n    const btt_div = document.getElementById(BACK_TO_TOP_DIV_ID);\n    btt_div.style.top = `${this.navbar_height + 16}px`;\n  }\n\n  _scrollHandler = (event) => {\n    var y_offset = window.pageYOffset || document.documentElement.scrollTop;\n\n    if (y_offset > this.prev_offset || y_offset <= this.navbar_height) {\n      this.btn.classList.add(\"d-none\");\n    } else if (y_offset < this.prev_offset && y_offset > this.navbar_height) {\n      this.btn.classList.remove(\"d-none\");\n    }\n\n    this.prev_offset = y_offset <= 0 ? 0 : y_offset;\n  }\n\n  _scrollToTopHandler = (event) => {\n    event.preventDefault();\n    document.documentElement.scrollTop = 0;\n  }\n\n  init = () => {\n    window.addEventListener(\"scroll\", this._scrollHandler, false);\n    this.btn.addEventListener(\"click\", this._scrollToTopHandler, false);\n  }\n}\n","// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst FIGURE_IMG_SELECTOR = \"#content figure\";\n\nexport function fixFigureStyle() {\n  const figures = document.querySelectorAll(FIGURE_IMG_SELECTOR);\n  for(const figure of figures) {\n    const img = figure.querySelector(\"img\");\n    if (img && img.style && (img.style.width || img.style.height)) {\n      const elem_width = img.width;\n      figure.style['width'] = `${elem_width}px`;\n      const figcaption = figure.querySelector(\"figcaption\");\n      if (figcaption) {\n        figcaption.style['width'] = `${elem_width}px`;\n      }\n      if (img.style.width) {\n        img.style.width = \"\";\n      }\n    }\n  }\n}\n","/*!\n  * sphinx-colorschemed-images v0.2.2 (https://github.com/danirus/sphinx-colorschemed-images).\n  * Copyright 2024 Daniela Rus Morales.\n  * Licensed under MIT (https://github.com/danirus/sphinx-colorschemed-images/blob/main/LICENSE).\n  */\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _createForOfIteratorHelperLoose(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (t) return (t = t.call(r)).next.bind(t);\n  if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e) {\n    t && (r = t);\n    var o = 0;\n    return function () {\n      return o >= r.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: r[o++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar SphinxColorschemeImageHandler = function SphinxColorschemeImageHandler(options) {\n  var _this = this;\n  if (options === void 0) {\n    options = {};\n  }\n  this.activate = function (scheme) {\n    var data_att = \"data-alt-src-color-scheme-\" + scheme;\n    var images = document.querySelectorAll(\"img[\" + data_att + \"]\");\n    var _loop = function _loop() {\n      var img = _step.value;\n      var new_img = new Image();\n      var new_src = img.getAttribute(data_att);\n      new_img.src = new_src;\n      new_img.addEventListener('load', function () {\n        img.src = new_img.src;\n      });\n      new_img.addEventListener('error', function () {\n        console.error(\"Could not replace image \" + img.src + \" with \" + new_src + \".\");\n      });\n      if (new_img.complete) {\n        img.src = new_img.src;\n      }\n\n      // Check whether the image is inside a <figure>.\n      var figure = img.closest('figure');\n      if (figure != undefined) {\n        var anchor = figure.querySelector('a');\n        if (anchor.getAttribute('href') !== new_src) {\n          anchor.href = new_src;\n        }\n      } else if (img.parentElement.tagName == \"A\" && img.parentElement.getAttribute(\"href\") !== new_src) {\n        var parent = img.parentElement;\n        parent.href = img.getAttribute(data_att);\n      }\n    };\n    for (var _iterator = _createForOfIteratorHelperLoose(images), _step; !(_step = _iterator()).done;) {\n      _loop();\n    }\n  };\n  this._schemes = [];\n  this._mediaqs = [];\n\n  // If options are not given or if it is given with a key 'auto'\n  // and a boolean value true, then the instance created will add\n  // an event listener for changes on prefers-color-scheme to\n  // update images accordingly.\n  this._auto = options.hasOwnProperty('auto') ? options['auto'] === true : true;\n  var meta_prop = document.querySelector('meta[name=\"color-scheme\"]');\n  var meta_schemes = meta_prop == undefined ? \"\" : meta_prop.content;\n  if (meta_schemes.length > 0) {\n    var schemes = meta_schemes.split(\" \");\n    for (var _iterator2 = _createForOfIteratorHelperLoose(schemes), _step2; !(_step2 = _iterator2()).done;) {\n      var item = _step2.value;\n      this._schemes.push(item.trim());\n    }\n  } else {\n    this._schemes = ['light', 'dark'];\n  }\n  var _loop2 = function _loop2() {\n    var scheme = _step3.value;\n    var q = globalThis.matchMedia(\"(prefers-color-scheme: \" + scheme + \")\");\n    if (q.matches) {\n      _this.activate(scheme);\n    }\n    if (_this._auto === true) {\n      q.addEventListener('change', function (e) {\n        if (e.matches) {\n          _this.activate(scheme);\n        }\n      });\n      _this._mediaqs.push(q);\n    }\n  };\n  for (var _iterator3 = _createForOfIteratorHelperLoose(this._schemes), _step3; !(_step3 = _iterator3()).done;) {\n    _loop2();\n  }\n};\n\nexport { SphinxColorschemeImageHandler };\n//# sourceMappingURL=sphinx-colorschemed-images.esm.js.map\n","import { SphinxColorschemeImageHandler } from \"sphinx-colorschemed-images\";\n\nexport class CSchemeHandler {\n  constructor() {\n    this.stored = localStorage.getItem('snftt-color-scheme') || \"default\";\n    this._cshdl = new SphinxColorschemeImageHandler({auto: false});\n    for (const scheme of ['dark', 'light']) {\n      const q = globalThis.matchMedia(`(prefers-color-scheme: ${scheme})`);\n      if (q.matches && this.stored == 'default') {\n        this.apply(scheme);\n        this.updateDropdown(this.stored);\n        this._cshdl.activate(scheme);\n      }\n      q.addEventListener('change', e => {\n        if (e.matches) {\n          this.apply(scheme);\n          this._cshdl.activate(scheme);\n        }\n      });\n    }\n    if (this.stored != \"default\") {\n      this.apply(this.stored);\n      this.updateDropdown(this.stored);\n      this._cshdl.activate(this.stored);\n    }\n  }\n\n  registerClickEvents() {\n    for (const item of document.querySelectorAll('[data-snftt-luz]')) {\n      item.addEventListener('click', (event) => {\n        event.preventDefault();\n        this.stored = item.dataset.snfttLuz;\n        localStorage.setItem('snftt-color-scheme', this.stored);\n        this.apply(this.stored);\n        this.updateDropdown(this.stored, true);\n        this._cshdl.activate(this.preferred);\n      });\n    };\n  }\n\n  get preferred() {\n    if ([\"light\", \"dark\"].includes(this.stored)) {\n      return this.stored;\n    }\n    const q = globalThis.matchMedia('(prefers-color-scheme: dark)');\n    return q.matches ? 'dark' : 'light';\n  }\n\n  apply(cscheme) {\n    this.updateExplicitElements(cscheme);\n    switch(cscheme) {\n      case \"default\": {\n        document.documentElement.classList.remove(\"light\");\n        document.documentElement.classList.remove(\"dark\");\n        document.documentElement.classList.add(this.preferred);\n        return;\n      }\n      case \"dark\": {\n        document.documentElement.classList.remove('light');\n        document.documentElement.classList.add('dark');\n        return;\n      }\n      case \"light\": {\n        document.documentElement.classList.remove('dark');\n        document.documentElement.classList.add('light');\n        return;\n      }\n    }\n  }\n\n  updateExplicitElements(cscheme) {\n    // Update all close button elements (class 'btn-close') adding the\n    // class btn-close-white when cscheme is dark, as the close button\n    // is a SVG element and it doesn't listen to the usual CSS changes.\n    // Also toggle between 'text-white-50' and 'text-black-50'.\n    let prefer = (cscheme == \"default\") ? this.preferred : cscheme;\n    const closeBtns = document.querySelectorAll(\".btn-close\");\n    const textSel = prefer == \"dark\" ? \".text-black-50\" : \".text-white-50\";\n    const textElems = document.querySelectorAll(textSel);\n\n    if (prefer == \"dark\") {\n      for (const btn of closeBtns) {\n        btn.classList.add(\"btn-close-white\");\n      }\n      for (const txtElem of textElems) {\n        txtElem.classList.remove(\"text-black-50\");\n        txtElem.classList.add(\"text-white-50\");\n      }\n    } else {\n      for (const btn of closeBtns) {\n        btn.classList.remove(\"btn-close-white\");\n      }\n      for (const txtElem of textElems) {\n        txtElem.classList.remove(\"text-white-50\");\n        txtElem.classList.add(\"text-black-50\");\n      }\n    }\n  }\n\n  updateDropdown(cscheme, focus = false) {\n    const prefix = \"data-snftt-luz\";\n    const selector = document.querySelector(\"#snftt-luz\");\n    const sel_icon = document.querySelector(`[${prefix}-icon-active]`);\n    const luz_item = document.querySelector(`[${prefix}=\"${cscheme}\"]`);\n    const luz_icon = document.querySelector(`[${prefix}-icon=\"${cscheme}\"]`);\n\n    const elements = document.querySelectorAll(`[${prefix}]`);\n    for (const element of elements) {\n      element.classList.remove('active', 'current');\n      element.setAttribute('aria-pressed', 'false');\n    };\n\n    if (luz_item != undefined) {\n      luz_item.classList.add('active', 'current');\n      luz_item.setAttribute('aria-pressed', 'true');\n    }\n\n    sel_icon?.setAttribute('class', luz_icon.classList.value);\n\n    if (focus) {\n      selector.focus();\n    }\n  }\n}\n","// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst TEMPLATE_SELECTOR = \"[data-toggle-item-template]\";\n\nfunction loadRefList() {\n  let refs = [];\n  const toc_expanded_stored = localStorage.getItem(\"toc-expanded\");\n  if (toc_expanded_stored?.trim().length) {\n    refs = toc_expanded_stored.split(\",\");\n  }\n\n  return refs;\n}\n\nexport class MenuHandler {\n  constructor() {\n    this.toc;\n    this.refs;\n    this.filter;\n  }\n\n  _removeRef = (ref) => {\n    const pos = this.refs.indexOf(ref);\n    if (pos > -1) {\n      this.refs.splice(pos, 1);\n      localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n    }\n  }\n\n  _expandRefs = () => {\n    for (const ref of this.refs) {\n      const li_item = this.toc.querySelector(`li[data-snftt-ref='${ref}']`);\n      if (li_item == undefined) {\n        this._removeRef(ref);\n        continue;\n      }\n      if (!li_item.classList.contains(\"expand\")) {\n        li_item.classList.toggle(\"expand\");\n        this._updateItem(li_item);\n      }\n    }\n  }\n\n  _expandOrFoldAll = (expand=true) => {\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const li_item = link.parentElement;\n        if (expand) {\n          li_item.classList.add(\"expand\");\n        } else {\n          li_item.classList.remove(\"expand\");\n        }\n        this._updateItem(li_item, false);\n      }\n    }\n  }\n\n  _updateItem = (li_item, update_refs=true) => {\n    const icon = li_item.querySelector(\"i\");\n\n    if (li_item.classList.contains(\"expand\")) {\n      icon.classList.remove(\"bi-caret-right\");\n      icon.classList.add(\"bi-caret-down\");\n      if (update_refs && !this.refs.includes(li_item.dataset.snfttRef)) {\n        this.refs.push(li_item.dataset.snfttRef);\n        localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n      }\n    } else {\n      icon.classList.remove(\"bi-caret-down\");\n      icon.classList.add(\"bi-caret-right\");\n      if (update_refs && this.refs.includes(li_item.dataset.snfttRef)) {\n        this._removeRef(li_item.dataset.snfttRef);\n      }\n    }\n  }\n\n  _clickHandler = (event) => {\n    const expand_button = event.currentTarget;\n    const element = expand_button?.parentElement;\n    element.classList.toggle(\"expand\");\n    this._updateItem(element);\n  }\n\n  _keyupHandler = (event) => {\n    const uls = this.toc.querySelectorAll(\"ul\");\n    const links = this.toc.querySelectorAll(\"a.reference\");\n\n    // Stop filtering -> remove d-none from all li and ul elements.\n    if (this.filter.value.length === 0) {\n      for (const link of links) {\n        link.parentElement?.classList.remove(\"d-none\");\n      }\n      for (const ul of uls) {\n        ul.classList.remove(\"d-none\");\n      }\n      this._expandOrFoldAll(false);  // Passing false means fold.\n      this._expandRefs();\n      return;\n    }\n\n    // 1st. hide all li elements in the toc.\n    for (const link of links) {\n      link.parentElement?.classList.add(\"d-none\");\n    }\n    for (const ul of uls) {\n      ul.classList.add(\"d-none\");\n    }\n\n\n    this._expandOrFoldAll(true);\n\n    // 2nd. show li elements whose anchor matches the filter.\n    const filter_re = new RegExp(this.filter.value, 'i');\n    for (const link of links) {\n      if (!filter_re.test(link.textContent))\n        continue;\n\n      let li_item = link;\n      let parent = li_item?.parentElement;\n\n      while (li_item) {  // Loop to make visible parent elements up the toc.\n        li_item.classList.remove(\"d-none\");\n        parent = li_item.parentElement;\n        if (parent.nodeName === \"UL\") {\n          parent?.classList.remove(\"d-none\");\n        }\n        li_item = parent?.closest(\"li\");\n      }\n    }\n  }\n\n  init = () => {\n    let num_expandable_menus = 0;\n    this.toc = document.querySelector(\".toc\");\n    this.filter = this.toc.querySelector(\"input[name='filter']\");\n    this.refs = loadRefList();\n\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n\n    const tmpl = document.querySelector(TEMPLATE_SELECTOR);\n    const tmpl_button = tmpl?.content.firstElementChild;\n\n    if (tmpl_button == undefined)\n      return -1;\n\n    this.filter.addEventListener('keyup', this._keyupHandler);\n\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const expand_button = tmpl_button.cloneNode(true);\n        expand_button.addEventListener('click', this._clickHandler, true);\n        link.before(expand_button);\n\n        // Maybe there is already a LI item displayed with the\n        // \"current\" class added. In such a case update the\n        // icon to display a dash symbol instead of a plus.\n        const li_item = link.parentElement;\n        li_item.dataset.snfttRef = link.href;\n        if (li_item && li_item.classList.contains(\"current\")) {\n          li_item.classList.toggle(\"current\");\n          li_item.classList.toggle(\"expand\");\n          this._updateItem(li_item);\n        }\n\n        num_expandable_menus++;\n      }\n    }\n\n    // Expand items that where expanded before,\n    // and saved in localStorage.\n    this._expandRefs();\n\n    return num_expandable_menus;\n  }\n}\n","function _addActiveCssClass(elem) {\n  elem.classList.add(\"active\");\n  elem.ariaCurrent=true;\n  if (elem.classList.contains(\"dropdown-item\")) {\n    const parent = elem.closest(\"li.nav-item.dropdown\");\n    if (!parent) return;\n\n    const anchor = parent.querySelector(\"a.nav-link.dropdown-toggle\")\n    if (!anchor) return;\n\n    if (anchor) {\n      anchor.classList.add(\"active\");\n      anchor.ariaCurrent = true;\n    }\n  }\n}\n\nexport function selectActiveHeaderLink() {\n  const curl = URL.parse(window.location.href);\n\n  for (const elem of document.querySelectorAll(\".snftt-hl\")) {\n    elem.classList.remove(\"active\");\n    elem.ariaCurrent = false;\n  }\n\n  // Activate the current link:\n  let qs = `.snftt-hl[href='#']`;\n  for (const elem of document.querySelectorAll(qs)) {\n    if (!elem.classList.contains(\"dropdown-toggle\")) {\n      _addActiveCssClass(elem);\n    }\n  }\n\n  // Find header-link element (.snftt-hl) with regexps, and\n  // check whether the current pathname matches the regexp.\n  let hl_id = 0;  // Not found.\n  qs = \".nftt-header-links-large .snftt-hl[data-snftt-hl-regexps]\"\n  for (const elem of document.querySelectorAll(qs)) {\n    const regexps = elem.dataset.snfttHlRegexps.split(\"&&\");\n    for (const re_str of regexps) {\n      const re = new RegExp(re_str);\n      if (re.test(curl.pathname)) {\n        // The first regexp that returns true is considered valid. Leave\n        // the loop and select the two elements with the same hl-id.\n        hl_id = elem.dataset.snfttHlId;\n        break;\n      }\n    }\n  }\n\n  if (hl_id == 0)\n    return;\n\n  qs = `.snftt-hl[data-snftt-hl-id='${hl_id}']`;\n  for (const elem of document.querySelectorAll(qs)) {\n    _addActiveCssClass(elem);\n  }\n}\n","export function formatNumber(num) {\n  const def_locale = document.documentElement.lang || \"en\";\n  return num.toLocaleString(def_locale, {\n    maximumFractionDigits: 2,\n    notation: 'compact',\n    compactDisplay: 'short'\n  });\n}\n","import { formatNumber } from \"./utils.js\";\n\nexport async function readFromGitHub(user, repo) {\n  let tag = \"\";\n  let stars = \"\";\n  let forks = \"\";\n  const url = `https://api.github.com/repos/${user}/${repo}`;\n\n  const response1 = await fetch(url);\n  if (response1.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data1 = await response1.json();\n\n  stars = formatNumber(data1.stargazers_count);\n  localStorage.setItem(`${user}:${repo}:stars`, stars);\n  forks = formatNumber(data1.forks_count);\n  localStorage.setItem(`${user}:${repo}:forks`, forks);\n\n  const response2 = await fetch(`${url}/releases/latest`);\n  if (response2.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data2 = await response2.json();\n  tag = data2.tag_name;\n  localStorage.setItem(`${user}:${repo}:tag`, tag);\n\n  if (tag !== \"\" && stars != \"\" && forks != \"\") {\n    return {tag, stars, forks};\n  }\n}\n","import { formatNumber } from \"./utils.js\";\n\nexport async function readFromGitLab(base, project) {\n  let stars = \"\";\n  let forks = \"\";\n  const url = `https://${base}/api/v4/projects/${encodeURIComponent(project)}`;\n  const response = await fetch(url);\n  if (response.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data = await response.json();\n  stars = formatNumber(data.star_count);\n  localStorage.setItem(`${base}:${project}:stars`, stars);\n  forks = formatNumber(data.forks_count);\n  localStorage.setItem(`${base}:${project}:forks`, forks);\n\n  if (stars != \"\" && forks != \"\") {\n    return {tag: \"\", stars, forks};\n  }\n}\n","import { readFromGitHub } from \"./github.js\";\nimport { readFromGitLab } from \"./gitlab.js\";\n\n\nconst ls = localStorage;  // Aliasing localStorage.\n\nconst qs_repo_url = \"[data-snftt-repo-url]\";\nconst qs_repo_facts = \"[data-snftt-repo-metrics]\";\nconst qs_repo_tag = \"[data-snftt-repo-tag]\";\nconst qs_repo_stars = \"[data-snftt-repo-stars]\";\nconst qs_repo_forks = \"[data-snftt-repo-forks]\";\n\n\nfunction _updateFactsComponent(metrics) {\n  let num_updated_facts = 0;\n  const facts_element = document.querySelector(qs_repo_facts);\n  const tag_element = document.querySelector(qs_repo_tag);\n  const stars_element = document.querySelector(qs_repo_stars);\n  const forks_element = document.querySelector(qs_repo_forks);\n\n  if (metrics.tag != undefined && metrics.tag.length > 0) {\n    tag_element.textContent = metrics.tag;\n    num_updated_facts++;\n  } else {\n    tag_element.parentElement.classList.remove(\"d-flex\");\n    tag_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.stars != undefined && metrics.stars.length > 0) {\n    stars_element.textContent = metrics.stars;\n    num_updated_facts++;\n  } else {\n    stars_element.parentElement.classList.remove(\"d-flex\");\n    stars_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.forks != undefined && metrics.forks.length > 0) {\n    forks_element.textContent = metrics.forks;\n    num_updated_facts++;\n  } else {\n    forks_element.parentElement.classList.remove(\"d-flex\");\n    forks_element.parentElement.classList.add(\"d-none\");\n  }\n\n  facts_element.classList.add(\"ready\");\n  return num_updated_facts;\n}\n\n\nfunction _readFromLocalStorage(p1, p2) {\n  const tag = ls.getItem(`${p1}:${p2}:tag`);\n  const stars = ls.getItem(`${p1}:${p2}:stars`);\n  const forks = ls.getItem(`${p1}:${p2}:forks`);\n  if (!stars || !forks) {\n    return {tag: \"\", stars: \"\", forks: \"\"};\n  }\n  return {tag, stars, forks};\n}\n\n\nexport async function _getRepoMetrics(host, p1, p2) {\n  let metrics;\n  const last_access = ls.getItem(`${p1}:${p2}:lastaccess`);\n\n  if (last_access) {\n    const now = Date.now();\n    const ts = new Date();\n    ts.setTime(Number.parseInt(last_access) + 60_000);\n    if (ts.getTime() > now) {\n      // Now is still under last_access + 60 secs.\n      // Go get metrics from localStorage...\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  if (!metrics) {\n    try {\n      switch (host) {\n        case \"github\": {\n          metrics = await readFromGitHub(p1, p2);\n          break;\n        }\n        case \"gitlab\": {\n          metrics = await readFromGitLab(p1, p2);\n          break;\n        }\n      }\n      localStorage.setItem(`${p1}:${p2}:lastaccess`, `${Date.now()}`);\n    } catch {\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  return metrics;\n}\n\n\nexport async function updateRepoMetrics() {\n  const repo_url_element = document.querySelector(qs_repo_url);\n  const url = repo_url_element ? repo_url_element.dataset.snfttRepoUrl : \"\";\n\n  /* Try to match GitHub repository */\n  let github_match = url.match(/^.+github\\.com\\/([^/]+)\\/?([^/]+)?/i);\n  if (github_match) {\n    const [, user, repo] = github_match;\n    const metrics = await _getRepoMetrics(\"github\", user, repo);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  /* Try to match GitLab repository */\n  let gitlab_match = url.match(/^.+?([^/]*gitlab[^/]+)\\/(.+?)\\/?$/i)\n  if (gitlab_match) {\n    const [, base, slug] = gitlab_match;\n    const metrics = await _getRepoMetrics(\"gitlab\", base, slug);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  return -1;\n}\n","export class TocObserver {\n  constructor() {\n    this.doc;\n    this.toc;\n    this.section_observer;\n  }\n\n  _sectionsObservationHandler = (entries) => {\n    entries.map(item => {\n      const sec = item.target;\n      const target = this.toc.querySelector(`a[href='#${sec.id}']`);\n      const parent = target?.parentElement;\n      if (item.isIntersecting === true) {\n        parent?.classList.add(\"active\");\n      } else {\n        parent?.classList.remove(\"active\");\n      }\n    });\n  }\n\n  _initializeSectionsObserver = (root_margin) => {\n    this.section_observer = new IntersectionObserver(\n      this._sectionsObservationHandler,\n      {\n        root: undefined,\n        rootMargin: root_margin,\n        threshold: [0, 0.25, 0.5, 0.75, 1],\n      }\n    );\n\n    for (const element of this.doc.querySelectorAll(\":scope section\")) {\n      this.section_observer.observe(element);\n    }\n  }\n\n  init = () => {\n    this.doc = document.querySelector(\".nftt-content\");\n    this.toc = document.querySelector(\"#TableOfContents\");\n    if (this.doc == undefined || this.toc == undefined) {\n      return -1;\n    }\n\n    const header_h = document.querySelector(\"header\")?.offsetHeight;\n    const root_margin = `-${header_h || 0}px 0px 0px 0px`;\n\n    // The first link in the Toc does not point to the first\n    // header. Fix that situation by reading what is the actual href\n    // of the first header with class=\"headerlink\", and then update\n    // the first link in the toc.\n    const document_1a = this.doc.querySelector(\"section a.headerlink\");\n    const toc_1a = this.toc.querySelector(\"a.reference[href='#']\");\n    if (document_1a != undefined && toc_1a != undefined) {\n      toc_1a.setAttribute(\"href\", document_1a.getAttribute(\"href\"));\n    }\n\n    // Sphinx returns anchors in the toc with the class \"internal\"\n    // and \"reference\". Also, it returns the first anchor with the\n    // class \"active\", which is not correct, as I want the\n    // IntersectionObserver to handle what is the section\n    // active in each moment. Therefore, I remove here\n    // the \"active\" class from all anchors in the toc.\n    const anchors = this.toc.querySelectorAll(\"a.reference\");\n    for (const anchor of anchors) {\n      anchor.classList.remove(\"active\");\n    }\n\n    this._initializeSectionsObserver(root_margin);\n    return 0;\n  }\n}\n\n\nexport class LocationHashHandler {\n  constructor() {\n    this.toc = document.querySelector(\"#TableOfContents\");\n    window.addEventListener(\"hashchange\", this.hashChanged);\n    this.hashChanged();\n  }\n\n  isInViewport = (element) => {\n    const rect = element.getBoundingClientRect();\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (\n        window.innerHeight || document.documentElement.clientHeight\n      ) &&\n      rect.right <= (\n        window.innerWidth || document.documentElement.clientWidth\n      )\n    );\n  }\n\n  hashChanged = (_) => {\n    const anchors = this.toc?.querySelectorAll(\"a.reference.internal\") || [];\n    for (const anchor of anchors) {\n      anchor.classList.remove(\"active\");\n    }\n\n    const ubits = window.location.href.split(\"#\");\n    if (ubits.length > 1) {\n      const toc_ref = `a.reference.internal[href='#${ubits[1]}']`;\n      const toc_ref_elem = this.toc?.querySelector(toc_ref);\n      if (toc_ref_elem) {\n        toc_ref_elem.classList.add(\"active\");\n        if (!this.isInViewport(toc_ref_elem)) {\n          toc_ref_elem.scrollIntoView({\n            behavior: \"smooth\", block: \"center\"\n          });\n        }\n      }\n    }\n  }\n}\n","export function resizeAsides() {\n  let style = \"\";\n  let height = \"\";\n  let top = \"\";\n\n  const nftt_content = document.querySelector(\".nftt-content\");\n  const nftt_sidebar = document.querySelector(\".nftt-sidebar\");\n  const backtotop_div = document.getElementById(\"back-to-top-container\");\n  const nftt_toc = document.querySelector(\".nftt-toc\");\n  const header_h = document.querySelector(\"header\")?.offsetHeight;\n\n  // If min-width is not >= 1200px, don't do anything.\n  if (window.matchMedia('(min-width: 1200px)').matches == false) {\n    nftt_sidebar?.setAttribute(\"style\", \"\");\n    nftt_toc?.setAttribute(\"style\", \"\");\n    return \"\";\n  }\n\n  if (nftt_content != undefined) {\n    height = nftt_content.clientHeight > document.body.clientHeight\n      ? `height: calc(100vh - ${header_h + 40}px)`\n      : `height: ${nftt_content.clientHeight}px`;\n    top = `top: ${header_h + 40}px`;\n\n    style = `${height}; ${top};`\n    nftt_sidebar?.setAttribute(\"style\", style);\n    nftt_toc?.setAttribute(\"style\", style);\n    backtotop_div?.setAttribute(\"style\", `top: ${header_h + 20}px`);\n  }\n\n  return style;\n}\n\n\nexport function updateScrollPaddingTop() {\n  let scroll_padding_top = -1;\n  const element = document.querySelector(\"html\");\n  const header_h = element.querySelector(\"header\")?.offsetHeight;\n  if (header_h != undefined) {\n    scroll_padding_top = header_h + 24;\n    element.setAttribute(\n      \"style\", `scroll-padding-top: ${scroll_padding_top}px`\n    );\n  }\n  return scroll_padding_top;\n}\n","const qs_version_url = \"[data-snftt-version-url]\";\n\nfunction _getCurrentVersion() {\n  const all_version_elems = document.querySelectorAll(qs_version_url);\n  for (const version_elem of all_version_elems) {\n    let version_url = version_elem.dataset?.snfttVersionUrl;\n    version_url = version_url.replace(\"?\", String.raw`\\?`);\n    if (new RegExp(version_url).test(window.location.href)) {\n      return version_elem.dataset?.snfttVersion;\n    };\n  }\n  return globalThis.def_ver || \"\";\n}\n\nexport function updateVersion() {\n  const version = _getCurrentVersion();\n  const qs_version_active = \"[data-snftt-version-active]\";\n  const version_active = document.querySelector(qs_version_active);\n  const qs_version_item = `[data-snftt-version=\"${version}\"]`;\n  const version_item = document.querySelector(qs_version_item);\n\n  for (const element of document.querySelectorAll('[data-snftt-version]')) {\n    element.classList.remove('active', 'current');\n    element.setAttribute('aria-pressed', 'false');\n  }\n\n  if (version_item != undefined) {\n    version_item.classList.add('active', 'current');\n    version_item.setAttribute('aria-pressed', 'true');\n    if (version_active != undefined) {\n      version_active.textContent = version_item.dataset.snfttVersion;\n    }\n  }\n}\n\nexport function feedVersionsMenu() {\n  const vermenu = document.getElementById(\"versions-dropdown-menu\");\n  if (!vermenu) {\n    console.log(\"Did not find the versions dropdown menu.\");\n    return false;\n  }\n  // Use the variable 'docs_versions' loaded as a script in layout.html.\n  // The file docs_versions.js is produced by versions.py when building\n  // the site (make html).\n  for (const item of globalThis.docs_versions) {\n    const li = document.createElement(\"li\");\n    const anchor = document.createElement(\"a\");\n    anchor.classList.add(\n      \"dropdown-item\", \"d-flex\", \"align-items-center\",\n      \"justify-content-between\"\n    );\n    anchor.setAttribute(\"aria-pressed\", \"false\");\n    anchor.setAttribute(\"href\", item.url);\n    anchor.dataset.snfttVersionUrl = item.url;\n    anchor.dataset.snfttVersion = item.name;\n    const span = document.createElement(\"span\");\n    span.classList.add(\"ms-2\");\n    span.textContent = item.name;\n    const i = document.createElement(\"i\");\n    i.classList.add(\"bi\", \"bi-check\", \"ms-auto\");\n    anchor.append(span);\n    anchor.append(i);\n    li.append(anchor);\n    vermenu.append(li);\n  }\n\n  return true;\n}\n","import { BackToTop } from \"./backtotop.js\";\nimport { fixFigureStyle } from \"./figures.js\";\nimport { CSchemeHandler } from \"./cschemes.js\";\nimport { MenuHandler } from \"./menu.js\";\nimport { selectActiveHeaderLink } from \"./navbar.js\";\nimport { updateRepoMetrics } from \"./repometrics.js\";\nimport { LocationHashHandler, TocObserver } from \"./pagetoc.js\";\nimport { resizeAsides, updateScrollPaddingTop } from \"./tocresize.js\";\nimport { feedVersionsMenu, updateVersion } from \"./versions.js\";\n\n\nfunction agentHas(keyword) {\n  return navigator.userAgent.toLowerCase().search(keyword.toLowerCase()) > -1;\n}\n\nfunction isFirefox() {\n  return agentHas(\"Firefox\") || agentHas(\"FxiOS\") || agentHas(\"Focus\");\n}\n\nfunction isSafari() {\n  return (\n    !!window.ApplePaySetupFeature\n    || !!window.safari\n  ) && agentHas(\"Safari\") && !agentHas(\"Chrome\") && !agentHas(\"CriOS\");\n}\n\nfunction runWhenDOMContentLoaded(cb) {\n  if (document.readyState != 'loading') {\n    cb();\n  } else if (document.addEventListener) {\n    document.addEventListener('DOMContentLoaded', cb);\n  } else {\n    document.attachEvent('onreadystatechange', function() {\n      if (document.readyState == 'complete') cb();\n    });\n  }\n}\n\nfunction loadSphinxNefertiti() {\n  // docutils figures that receive specific dimension styling\n  // (basically: width or height) apply the styling to the <img> element\n  // instead of to the <figure>. That makes the <figcaption> to have\n  // a width wider than the image. The fixFigureStyle function\n  // moves the style when it contains a specific value for the\n  // \"width\" dimension.\n  fixFigureStyle();\n\n  const menu_handler = new MenuHandler();\n  if (menu_handler.init() == -1) {\n    console.log(\"Could not find the <template data-toggle-item-template>.\");\n    console.log(\"Therefore left side nested menu entries will not be visible.\")\n  };\n\n  // --------------------------------------------------\n  // On every page load, adjust height of nftt-sidebar\n  // and nftt-toc, based on height of nftt-content.\n  //\n  updateScrollPaddingTop();\n  resizeAsides(); // Resize just after DOM content is loaded.\n\n  // And register the function for every height change of the body.\n  const body_observer = new ResizeObserver(entries => {\n    const header_h = document.querySelector(\"header\")?.offsetHeight;\n    document.body.style.paddingTop = `${header_h + 4}px`;\n\n    updateScrollPaddingTop();\n    resizeAsides();\n  });\n  body_observer.observe(document.body);\n  window.addEventListener(\"resize\", [updateScrollPaddingTop, resizeAsides,]);\n\n  // The CSchemeHandler controls the selection of the 3 possible\n  // options (light, dark, default) and the switching between\n  // them.\n  const cscheme_handler = new CSchemeHandler();\n  cscheme_handler.registerClickEvents();\n\n  // Feed the versions dropdown element.\n  feedVersionsMenu();\n\n  // The updateVersion function controls the display of the version\n  // in the header, adding the CSS class \"current\" to display the\n  // tick symbol near the version selected.\n  updateVersion();\n\n  // The function updateRepoMetrics updates the details related to the\n  // repository in the header.\n  if(updateRepoMetrics() == -1) {\n    console.log(\"Could not find an element with [data-snftt-repo-url]\");\n  };\n\n  // Create the table of contents out of the content\n  // of the nftt-content.\n  const toc_observer = new TocObserver();\n  toc_observer.init();\n\n  if (isSafari() || isFirefox()) {\n    let css_content;\n    const head = document.head;\n\n    if (isSafari()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.8rem;\" +\n        \"}\"\n      );\n    } else if (isFirefox()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.55rem;\" +\n        \"}\"\n      );\n    }\n\n    const style = document.createElement(\"style\");\n    style.append(document.createTextNode(css_content));\n    head.append(style);\n  }\n\n  // Fix accessibility in each input element\n  // with class 'task-list-item-checkbox'.\n  const task_list_elems_qs = \"input.task-list-item-checkbox\";\n  const task_list_elems = document.querySelectorAll(task_list_elems_qs);\n  for (const element of task_list_elems) {\n    // Add a title to each input element.\n    element.setAttribute('title', `Is task done? ${element.checked}`);\n  }\n\n  // Wrap tables with responsive container.\n  const tables = document.querySelectorAll('table.docutils');\n  for (const table of tables) {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"nftt-table\");\n    table.before(wrapper);\n    wrapper.append(table);\n  }\n\n  // Fix admonitions-like blocks used in Sphinx to display version\n  // changes. Such directives are: versionadded, versionchanged,\n  // deprecated, and versionremoved.\n  const vchanges_selectors = [\n    [\"div.versionadded\", \"versionadded\", \"versionadded-title-only\"],\n    [\"div.versionchanged\", \"versionchanged\", \"versionchanged-title-only\"],\n    [\"div.deprecated\", \"deprecated\", \"deprecated-title-only\"],\n    [\"div.versionremoved\", \"versionremoved\", \"versionremoved-title-only\"],\n  ];\n  for (const lst of vchanges_selectors) {\n    const [ selector, src_class, tgt_class ] = lst;\n    const elems = document.querySelectorAll(selector);\n\n    for (const div of elems) {\n      // The 'p' contained in the div might contain just a <span>, or\n      // a <span> and a text node. The 2nd case is when the versionadded\n      // directive receives additional text, right below the directive.\n      // If the directive only gets the version number, without\n      // additional text below, then I the selector should\n      // change to .versionadded-title-only, so that it\n      // does not display an empty block below.\n\n      if (div.querySelector(\"p\").childNodes.length == 1) {\n        div.classList.replace(src_class, tgt_class);\n      }\n    }\n  }\n\n  const back_to_top = new BackToTop();\n  back_to_top.init();\n\n  // In case there were Header Links (.snftt-hl) add the class\n  // 'active' to the one corresponding to the current URL.\n  selectActiveHeaderLink();\n\n  // -------------------------------------------------------------------\n  // Scroll the item from the left sidebar into view:\n  const sidebar_elem = document.querySelector(\".nftt-sidebar a.current\");\n  if (sidebar_elem) {\n    const parent = sidebar_elem.closest(\".toc li\");\n    if (parent) {\n      parent.scrollIntoView({behavior: \"smooth\", block: \"end\"});\n    }\n  }\n  // And scroll down to the anchor name referred in the URL in the TOC.\n  const location_hash_handler = new LocationHashHandler();\n}\n\nrunWhenDOMContentLoaded(loadSphinxNefertiti);\n"],"mappings":"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","ignoreList":[]}