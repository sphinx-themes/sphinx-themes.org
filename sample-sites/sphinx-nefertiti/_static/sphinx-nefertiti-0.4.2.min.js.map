{"version":3,"names":["FIGURE_IMG_SELECTOR","fixFigureStyle","_step","_iterator","_createForOfIteratorHelperLoose","document","querySelectorAll","done","figure","value","img","querySelector","style","width","height","elem_width","figcaption","LuzHandler","this","stored_luz","localStorage","getItem","applyLuz","preferredLuz","updateDropdown","_proto","prototype","registerClickEvents","_this","_loop","item","addEventListener","event","preventDefault","luz","dataset","snfttLuz","setItem","documentElement","classList","remove","prefers","window","matchMedia","matches","add","focus","_step2","prefix","selector","sel_icon","luz_item","luz_icon","_iterator2","element","setAttribute","undefined","_createClass","key","get","includes","TEMPLATE_SELECTOR","loadRefList","refs","toc_expanded_stored","trim","length","split","MenuHandler","_removeRef","ref","pos","indexOf","splice","join","_expandRefs","li_item","toc","contains","toggle","_updateItem","_expandOrFoldAll","expand","link","nextElementSibling","parentElement","update_refs","icon","snfttRef","push","_clickHandler","expand_button","currentTarget","_keyupHandler","uls","links","filter","_step3","_iterator3","_link$parentElement","_step4","_iterator4","_step5","_iterator5","_link$parentElement2","_step6","_iterator6","_step7","filter_re","RegExp","_iterator7","_li_item","test","textContent","parent","_parent2","_parent","nodeName","closest","init","num_expandable_menus","tmpl","tmpl_button","content","firstElementChild","_step8","_iterator8","cloneNode","before","href","readFromGitHub","_x","_x2","_readFromGitHub","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","repo","tag","stars","forks","url","response1","data1","response2","data2","wrap","_context","prev","next","fetch","sent","status","Error","json","stargazers_count","forks_count","tag_name","abrupt","stop","readFromGitLab","_readFromGitLab","base","project","response","data","encodeURIComponent","star_count","ls","qs_repo_url","qs_repo_facts","qs_repo_tag","qs_repo_stars","qs_repo_forks","_updateFactsComponent","metrics","num_updated_facts","facts_element","tag_element","stars_element","forks_element","_readFromLocalStorage","p1","p2","Number","parseInt","_getRepoMetrics","_x3","_getRepoMetrics2","host","last_access","now","ts","Date","setTime","getTime","t0","t1","updateRepoMetrics","_updateRepoMetrics","_callee2","repo_url_element","github_match","gitlab_match","slug","_metrics","_context2","snfttRepoUrl","match","TocObserver","_sectionsObservationHandler","entries","map","sec","target","id","isIntersecting","_initializeSectionsObserver","root_margin","section_observer","IntersectionObserver","root","rootMargin","threshold","doc","observe","_document$querySelect","offsetHeight","document_1a","toc_1a","getAttribute","resizeAsides","nftt_content","nftt_sidebar","nftt_toc","clientHeight","body","updateScrollPaddingTop","_element$querySelecto","scroll_padding_top","header_h","qs_version_url","_getCurrentVersion","_version_elem$dataset","_version_elem$dataset2","version_elem","version_url","snfttVersionUrl","replace","location","snfttVersion","updateVersion","version","version_active","qs_version_item","version_item","feedVersionsMenu","vermenu","getElementById","console","log","dir","doc_versions","li","createElement","anchor","name","span","i","append","agentHas","keyword","navigator","userAgent","toLowerCase","search","isFirefox","isSafari","ApplePaySetupFeature","safari","_","ResizeObserver","css_content","head","createTextNode","task_list_elems","checked","table","wrapper","_i","_vchanges_selectors","lst","src_class","tgt_class","elems","div","childNodes"],"sources":["../../js/src/figures.js","../../js/src/lightdark.js","../../js/src/menu.js","../../js/src/github.js","../../js/src/gitlab.js","../../js/src/repometrics.js","../../js/src/pagetoc.js","../../js/src/tocresize.js","../../js/src/versions.js","../../js/src/index.js"],"sourcesContent":["// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst FIGURE_IMG_SELECTOR = \"#content figure\";\n\nexport function fixFigureStyle() {\n  const figures = document.querySelectorAll(FIGURE_IMG_SELECTOR);\n  for(const figure of figures) {\n    const img = figure.querySelector(\"img\");\n    if (img && img.style && (img.style.width || img.style.height)) {\n      const elem_width = img.width;\n      figure.style['width'] = `${elem_width}px`;\n      const figcaption = figure.querySelector(\"figcaption\");\n      if (figcaption) {\n        figcaption.style['width'] = `${elem_width}px`;\n      }\n      if (img.style.width) {\n        img.style.width = \"\";\n      }\n    }\n  }\n}","export class LuzHandler {\n  constructor() {\n    this.stored_luz = localStorage.getItem('snftt-luz');\n    this.applyLuz(this.preferredLuz);\n    this.updateDropdown(this.preferredLuz);\n  }\n\n  registerClickEvents() {\n    for (const item of document.querySelectorAll('[data-snftt-luz]')) {\n      item.addEventListener('click', (event) => {\n        event.preventDefault();\n        const luz = item.dataset.snfttLuz;\n        localStorage.setItem('snftt-luz', luz);\n        this.applyLuz(luz);\n        this.updateDropdown(luz, true);\n      });\n    };\n  }\n\n  get preferredLuz() {\n    if ([\"light\", \"dark\"].includes(this.stored_luz)) {\n      return this.stored_luz;\n    }\n    return 'default';\n  }\n\n  applyLuz(luz) {\n    switch(luz) {\n      case \"default\": {\n        document.documentElement.classList.remove(\"light\");\n        document.documentElement.classList.remove(\"dark\");\n        const q = window.matchMedia('(prefers-color-scheme: dark)');\n        const prefers = q.matches ? 'dark' : 'light';\n        document.documentElement.classList.add(prefers);\n        return;\n      }\n      case \"dark\": {\n        document.documentElement.classList.remove('light');\n        document.documentElement.classList.add('dark');\n        return;\n      }\n      case \"light\": {\n        document.documentElement.classList.remove('dark');\n        document.documentElement.classList.add('light');\n      }\n    }\n  }\n\n  updateDropdown(luz, focus = false) {\n    const prefix = \"data-snftt-luz\";\n    const selector = document.querySelector(\"#snftt-luz\");\n    const sel_icon = document.querySelector(`[${prefix}-icon-active]`);\n    const luz_item = document.querySelector(`[${prefix}=\"${luz}\"]`);\n    const luz_icon = document.querySelector(`[${prefix}-icon=\"${luz}\"]`);\n\n    const elements = document.querySelectorAll(`[${prefix}]`);\n    for (const element of elements) {\n      element.classList.remove('current');\n      element.setAttribute('aria-pressed', 'false');\n    };\n\n    if (luz_item != undefined) {\n      luz_item.classList.add('current');\n      luz_item.setAttribute('aria-pressed', 'true');\n    }\n\n    sel_icon?.setAttribute('class', luz_icon.classList.value);\n\n    if (focus) {\n      selector.focus();\n    }\n  }\n}\n","// --------------------------------------------------------\n// Selector to use with document.querySelector(SELECTOR),\n// that represents the HTML template element containing the\n// button to expand/fold the toc tree.\n//\nconst TEMPLATE_SELECTOR = \"[data-toggle-item-template]\";\n\nfunction loadRefList() {\n  let refs = [];\n  const toc_expanded_stored = localStorage.getItem(\"toc-expanded\");\n  if (toc_expanded_stored?.trim().length) {\n    refs = toc_expanded_stored.split(\",\");\n  }\n\n  return refs;\n}\n\nexport class MenuHandler {\n  constructor() {\n    this.toc;\n    this.refs;\n    this.filter;\n  }\n\n  _removeRef = (ref) => {\n    const pos = this.refs.indexOf(ref);\n    if (pos > -1) {\n      this.refs.splice(pos, 1);\n      localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n    }\n  }\n\n  _expandRefs = () => {\n    for (const ref of this.refs) {\n      const li_item = this.toc.querySelector(`li[data-snftt-ref='${ref}']`);\n      if (li_item == undefined) {\n        this._removeRef(ref);\n        continue;\n      }\n      if (!li_item.classList.contains(\"expand\")) {\n        li_item.classList.toggle(\"expand\");\n        this._updateItem(li_item);\n      }\n    }\n  }\n\n  _expandOrFoldAll = (expand=true) => {\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const li_item = link.parentElement;\n        if (expand) {\n          li_item.classList.add(\"expand\");\n        } else {\n          li_item.classList.remove(\"expand\");\n        }\n        this._updateItem(li_item, false);\n      }\n    }\n  }\n\n  _updateItem = (li_item, update_refs=true) => {\n    const icon = li_item.querySelector(\"i\");\n\n    if (li_item.classList.contains(\"expand\")) {\n      icon.classList.remove(\"bi-caret-right\");\n      icon.classList.add(\"bi-caret-down\");\n      if (update_refs && !this.refs.includes(li_item.dataset.snfttRef)) {\n        this.refs.push(li_item.dataset.snfttRef);\n        localStorage.setItem(\"toc-expanded\", this.refs.join(\",\"));\n      }\n    } else {\n      icon.classList.remove(\"bi-caret-down\");\n      icon.classList.add(\"bi-caret-right\");\n      if (update_refs && this.refs.includes(li_item.dataset.snfttRef)) {\n        this._removeRef(li_item.dataset.snfttRef);\n      }\n    }\n  }\n\n  _clickHandler = (event) => {\n    const expand_button = event.currentTarget;\n    const element = expand_button?.parentElement;\n    element.classList.toggle(\"expand\");\n    this._updateItem(element);\n  }\n\n  _keyupHandler = (event) => {\n    const uls = this.toc.querySelectorAll(\"ul\");\n    const links = this.toc.querySelectorAll(\"a.reference\");\n\n    // Stop filtering -> remove d-none from all li and ul elements.\n    if (this.filter.value.length === 0) {\n      for (const link of links) {\n        link.parentElement?.classList.remove(\"d-none\");\n      }\n      for (const ul of uls) {\n        ul.classList.remove(\"d-none\");\n      }\n      this._expandOrFoldAll(false);  // Passing false means fold.\n      this._expandRefs();\n      return;\n    }\n\n    // 1st. hide all li elements in the toc.\n    for (const link of links) {\n      link.parentElement?.classList.add(\"d-none\");\n    }\n    for (const ul of uls) {\n      ul.classList.add(\"d-none\");\n    }\n\n\n    this._expandOrFoldAll(true);\n\n    // 2nd. show li elements whose anchor matches the filter.\n    const filter_re = new RegExp(this.filter.value, 'i');\n    for (const link of links) {\n      if (!filter_re.test(link.textContent))\n        continue;\n\n      let li_item = link;\n      let parent = li_item?.parentElement;\n\n      while (li_item) {  // Loop to make visible parent elements up the toc.\n        li_item.classList.remove(\"d-none\");\n        parent = li_item.parentElement;\n        if (parent.nodeName === \"UL\") {\n          parent?.classList.remove(\"d-none\");\n        }\n        li_item = parent?.closest(\"li\");\n      }\n    }\n  }\n\n  init = () => {\n    let num_expandable_menus = 0;\n    this.toc = document.querySelector(\".toc\");\n    this.filter = this.toc.querySelector(\"input[name='filter']\");\n    this.refs = loadRefList();\n\n    const links = this.toc ? this.toc.querySelectorAll(\"a.reference\") : [];\n\n    const tmpl = document.querySelector(TEMPLATE_SELECTOR);\n    const tmpl_button = tmpl?.content.firstElementChild;\n\n    if (tmpl_button == undefined)\n      return -1;\n\n    this.filter.addEventListener('keyup', this._keyupHandler);\n\n    for (const link of links) {\n      if (link.nextElementSibling) {\n        const expand_button = tmpl_button.cloneNode(true);\n        expand_button.addEventListener('click', this._clickHandler, true);\n        link.before(expand_button);\n\n        // Maybe there is already a LI item displayed with the\n        // \"current\" class added. In such a case update the\n        // icon to display a dash symbol instead of a plus.\n        const li_item = link.parentElement;\n        li_item.dataset.snfttRef = link.href;\n        if (li_item && li_item.classList.contains(\"current\")) {\n          li_item.classList.toggle(\"current\");\n          li_item.classList.toggle(\"expand\");\n          this._updateItem(li_item);\n        }\n\n        num_expandable_menus++;\n      }\n    }\n\n    // Expand items that where expanded before,\n    // and saved in localStorage.\n    this._expandRefs();\n\n    return num_expandable_menus;\n  }\n}\n","export async function readFromGitHub(user, repo) {\n  let tag = \"\";\n  let stars = -1;\n  let forks = -1;\n  const url = `https://api.github.com/repos/${user}/${repo}`;\n  const response1 = await fetch(url);\n  if (response1.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data1 = await response1.json();\n  stars = data1.stargazers_count;\n  localStorage.setItem(`${user}:${repo}:stars`, `${stars}`);\n  forks = data1.forks_count;\n  localStorage.setItem(`${user}:${repo}:forks`, `${forks}`);\n\n  const response2 = await fetch(`${url}/releases/latest`);\n  if (response2.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data2 = await response2.json();\n  tag = data2.tag_name;\n  localStorage.setItem(`${user}:${repo}:tag`, tag);\n\n  if (tag !== \"\" && stars > -1 && forks > -1) {\n    return {tag, stars, forks};\n  }\n}\n","export async function readFromGitLab(base, project) {\n  let stars = -1;\n  let forks = -1;\n  const url = `https://${base}/api/v4/projects/${encodeURIComponent(project)}`;\n  const response = await fetch(url);\n  if (response.status !== 200) {\n    throw new Error(\"Rate limit reached.\");\n  }\n  const data = await response.json();\n  stars = data.star_count;\n  localStorage.setItem(`${base}:${project}:stars`, `${stars}`);\n  forks = data.forks_count;\n  localStorage.setItem(`${base}:${project}:forks`, `${forks}`);\n\n  if (stars > -1 && forks > -1) {\n    return {tag: \"\", stars, forks};\n  }\n}\n","import { readFromGitHub } from \"./github.js\";\nimport { readFromGitLab } from \"./gitlab.js\";\n\n\nconst ls = localStorage;  // Aliasing localStorage.\n\nconst qs_repo_url = \"[data-snftt-repo-url]\";\nconst qs_repo_facts = \"[data-snftt-repo-metrics]\";\nconst qs_repo_tag = \"[data-snftt-repo-tag]\";\nconst qs_repo_stars = \"[data-snftt-repo-stars]\";\nconst qs_repo_forks = \"[data-snftt-repo-forks]\";\n\n\nfunction _updateFactsComponent(metrics) {\n  let num_updated_facts = 0;\n  const facts_element = document.querySelector(qs_repo_facts);\n  const tag_element = document.querySelector(qs_repo_tag);\n  const stars_element = document.querySelector(qs_repo_stars);\n  const forks_element = document.querySelector(qs_repo_forks);\n\n  if (metrics.tag != undefined && metrics.tag.length > 0) {\n    tag_element.textContent = metrics.tag;\n    num_updated_facts++;\n  } else {\n    tag_element.parentElement.classList.remove(\"d-flex\");\n    tag_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.stars > -1) {\n    stars_element.textContent = `${metrics.stars}`;\n    num_updated_facts++;\n  } else {\n    stars_element.parentElement.classList.remove(\"d-flex\");\n    stars_element.parentElement.classList.add(\"d-none\");\n  }\n\n  if (metrics.forks > -1) {\n    forks_element.textContent = `${metrics.forks}`;\n    num_updated_facts++;\n  } else {\n    forks_element.parentElement.classList.remove(\"d-flex\");\n    forks_element.parentElement.classList.add(\"d-none\");\n  }\n\n  facts_element.classList.add(\"ready\");\n  return num_updated_facts;\n}\n\n\nfunction _readFromLocalStorage(p1, p2) {\n  const tag = ls.getItem(`${p1}:${p2}:tag`);\n  const stars = Number.parseInt(ls.getItem(`${p1}:${p2}:stars`));\n  const forks = Number.parseInt(ls.getItem(`${p1}:${p2}:forks`));\n  if (!stars || !forks) {\n    return {tag: \"\", stars: -1, forks: -1};\n  }\n  return {tag, stars, forks};\n}\n\n\nexport async function _getRepoMetrics(host, p1, p2) {\n  let metrics;\n  const last_access = ls.getItem(`${p1}:${p2}:lastaccess`);\n\n  if (last_access) {\n    const now = Date.now();\n    const ts = new Date();\n    ts.setTime(Number.parseInt(last_access) + 60_000);\n    if (ts.getTime() > now) {\n      // Now is still under last_access + 60 secs.\n      // Go get metrics from localStorage...\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  if (!metrics) {\n    try {\n      switch (host) {\n        case \"github\": {\n          metrics = await readFromGitHub(p1, p2);\n          break;\n        }\n        case \"gitlab\": {\n          metrics = await readFromGitLab(p1, p2);\n          break;\n        }\n      }\n      localStorage.setItem(`${p1}:${p2}:lastaccess`, `${Date.now()}`);\n    } catch {\n      metrics = _readFromLocalStorage(p1, p2);\n    }\n  }\n\n  return metrics;\n}\n\n\nexport async function updateRepoMetrics() {\n  const repo_url_element = document.querySelector(qs_repo_url);\n  const url = repo_url_element ? repo_url_element.dataset.snfttRepoUrl : \"\";\n\n  /* Try to match GitHub repository */\n  let github_match = url.match(/^.+github\\.com\\/([^/]+)\\/?([^/]+)?/i);\n  if (github_match) {\n    const [, user, repo] = github_match;\n    const metrics = await _getRepoMetrics(\"github\", user, repo);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  /* Try to match GitLab repository */\n  let gitlab_match = url.match(/^.+?([^/]*gitlab[^/]+)\\/(.+?)\\/?$/i)\n  if (gitlab_match) {\n    const [, base, slug] = gitlab_match;\n    const metrics = await _getRepoMetrics(\"gitlab\", base, slug);\n    if (metrics) {\n      return _updateFactsComponent(metrics);\n    }\n  }\n\n  return -1;\n}","export class TocObserver {\n  constructor() {\n    this.doc;\n    this.toc;\n    this.section_observer;\n  }\n\n  _sectionsObservationHandler = (entries) => {\n    entries.map(item => {\n      const sec = item.target;\n      const target = this.toc.querySelector(`a[href='#${sec.id}']`);\n      const parent = target?.parentElement;\n      if (item.isIntersecting === true) {\n        parent?.classList.add(\"active\");\n      } else {\n        parent?.classList.remove(\"active\");\n      }\n    });\n  }\n\n  _initializeSectionsObserver = (root_margin) => {\n    this.section_observer = new IntersectionObserver(\n      this._sectionsObservationHandler,\n      {\n        root: undefined,\n        rootMargin: root_margin,\n        threshold: [0, 0.25, 0.5, 0.75, 1],\n      }\n    );\n\n    for (const element of this.doc.querySelectorAll(\":scope section\")) {\n      this.section_observer.observe(element);\n    }\n  }\n\n  init = () => {\n    this.doc = document.querySelector(\".nftt-content\");\n    this.toc = document.querySelector(\"#TableOfContents\");\n    if (this.doc == undefined || this.toc == undefined) {\n      return -1;\n    }\n\n    const header_h = document.querySelector(\"header\")?.offsetHeight;\n    const root_margin = `-${header_h || 0}px 0px 0px 0px`;\n\n    // The first link in the Toc does not point to the first\n    // header. Fix that situation by reading what is the actual href\n    // of the first header with class=\"headerlink\", and then update\n    // the first link in the toc.\n    const document_1a = this.doc.querySelector(\"section a.headerlink\");\n    const toc_1a = this.toc.querySelector(\"a.reference[href='#']\");\n    if (document_1a != undefined && toc_1a != undefined) {\n      toc_1a.setAttribute(\"href\", document_1a.getAttribute(\"href\"));\n    }\n\n    // Sphinx returns anchors in the toc with the class \"internal\"\n    // and \"reference\". Also, it returns the first anchor with the\n    // class \"active\", which is not correct, as I want the\n    // IntersectionObserver to handle what is the section\n    // active in each moment. Therefore, I remove here\n    // the \"active\" class from all anchors in the toc.\n    const anchors = this.toc.querySelectorAll(\"a.reference\");\n    for (const anchor of anchors) {\n      anchor.classList.remove(\"active\");\n    }\n\n    this._initializeSectionsObserver(root_margin);\n    return 0;\n  }\n}\n","export function resizeAsides() {\n  let height = \"\";\n\n  const nftt_content = document.querySelector(\".nftt-content\");\n  const nftt_sidebar = document.querySelector(\".nftt-sidebar\");\n  const nftt_toc = document.querySelector(\".nftt-toc\");\n\n  // If min-width is not >= 992px, don't do anything.\n  if (window.matchMedia('(min-width: 1200px)').matches == false) {\n    nftt_sidebar?.setAttribute(\"style\", \"\");\n    nftt_toc?.setAttribute(\"style\", \"\");\n    return \"\";\n  }\n\n  if (nftt_content != undefined) {\n    height = nftt_content.clientHeight > document.body.clientHeight\n      ? \"height: calc(100vh - 7rem)\"\n      : `height: ${nftt_content.clientHeight}px`;\n    nftt_sidebar?.setAttribute(\"style\", height);\n    nftt_toc?.setAttribute(\"style\", height);\n  }\n\n  return height;\n}\n\n\nexport function updateScrollPaddingTop() {\n  let scroll_padding_top = -1;\n  const element = document.querySelector(\"html\");\n  const header_h = element.querySelector(\"header\")?.offsetHeight;\n  if (header_h != undefined) {\n    scroll_padding_top = header_h + 24;\n    element.setAttribute(\n      \"style\", `scroll-padding-top: ${scroll_padding_top}px`\n    );\n  }\n  return scroll_padding_top;\n}\n","const qs_version_url = \"[data-snftt-version-url]\";\n\nfunction _getCurrentVersion() {\n  const all_version_elems = document.querySelectorAll(qs_version_url);\n  for (const version_elem of all_version_elems) {\n    let version_url = version_elem.dataset?.snfttVersionUrl;\n    version_url = version_url.replace(\"?\", \"\\\\?\");\n    if (new RegExp(version_url).test(window.location.href)) {\n      return version_elem.dataset?.snfttVersion;\n    };\n  }\n  return \"\";\n}\n\nexport function updateVersion() {\n  const version = _getCurrentVersion();\n  const qs_version_active = \"[data-snftt-version-active]\";\n  const version_active = document.querySelector(qs_version_active);\n  const qs_version_item = `[data-snftt-version=\"${version}\"]`;\n  const version_item = document.querySelector(qs_version_item);\n\n  for (const element of document.querySelectorAll('[data-snftt-version]')) {\n    element.classList.remove('current');\n    element.setAttribute('aria-pressed', 'false');\n  }\n\n  if (version_item != undefined) {\n    version_item.classList.add('current');\n    version_item.setAttribute('aria-pressed', 'true');\n    if (version_active != undefined) {\n      version_active.textContent = version_item.dataset.snfttVersion;\n    }\n  }\n}\n\nexport function feedVersionsMenu() {\n  const vermenu = document.getElementById(\"versions-dropdown-menu\");\n  if (!vermenu) {\n    console.log(\"Did not find the versions dropdown menu.\");\n    return;\n  }\n  // Use the variable 'doc_versions', loaded as a script in layout.html.\n  // The file doc_versions.js is produced by versions.py when building\n  // the site (make html).\n  console.log(\"Found the versions dropdown menu!\");\n  console.log(\"doc_versions are:\");\n  console.dir(doc_versions);\n\n  for (const item of doc_versions) {\n    const li = document.createElement(\"li\");\n    const anchor = document.createElement(\"a\");\n    anchor.classList.add(\n      \"dropdown-item\", \"d-flex\", \"align-items-center\",\n      \"justify-content-between\"\n    );\n    anchor.setAttribute(\"aria-pressed\", \"false\");\n    anchor.setAttribute(\"href\", item.url);\n    anchor.dataset.snfttVersionUrl = item.url;\n    anchor.dataset.snfttVersion = item.name;\n    const span = document.createElement(\"span\");\n    span.classList.add(\"small\", \"ms-2\");\n    span.textContent = item.name;\n    const i = document.createElement(\"i\");\n    i.classList.add(\"bi\", \"bi-check\", \"ms-auto\");\n    anchor.append(span);\n    anchor.append(i);\n    li.append(anchor);\n    vermenu.append(li);\n  }\n}","import { fixFigureStyle } from \"./figures.js\";\nimport { LuzHandler } from \"./lightdark.js\";\nimport { MenuHandler } from \"./menu.js\";\nimport { updateRepoMetrics } from \"./repometrics.js\";\nimport { TocObserver } from \"./pagetoc.js\";\nimport { resizeAsides, updateScrollPaddingTop } from \"./tocresize.js\";\nimport { feedVersionsMenu, updateVersion } from \"./versions.js\";\n\n\nfunction agentHas(keyword) {\n  return navigator.userAgent.toLowerCase().search(keyword.toLowerCase()) > -1;\n}\n\nfunction isFirefox() {\n  return agentHas(\"Firefox\") || agentHas(\"FxiOS\") || agentHas(\"Focus\");\n}\n\nfunction isSafari() {\n  return (\n    !!window.ApplePaySetupFeature\n    || !!window.safari\n  ) && agentHas(\"Safari\") && !agentHas(\"Chrome\") && !agentHas(\"CriOS\");\n}\n\n\nwindow.addEventListener('DOMContentLoaded', (_) => {\n  // docutils figures that receive specific dimension styling\n  // (basically: width or height) apply the styling to the <img> element\n  // instead of to the <figure>. That makes the <figcaption> to have\n  // a width wider than the image. The fixFigureStyle function\n  // moves the style when it contains a specific value for the\n  // \"width\" dimension.\n  fixFigureStyle();\n\n  const menu_handler = new MenuHandler();\n  if (menu_handler.init() == -1) {\n    console.log(\"Could not find the <template data-toggle-item-template>.\");\n    console.log(\"Therefore left side nested menu entries will not be visible.\")\n  };\n\n  // --------------------------------------------------\n  // On every page load, adjust height of nftt-sidebar\n  // and nftt-toc, based on height of nftt-content.\n  //\n  updateScrollPaddingTop();\n  resizeAsides(); // Resize just after DOM content is loaded.\n\n  // And register the function for every height change of the body.\n  const resize_observer = new ResizeObserver(entries => resizeAsides());\n  resize_observer.observe(document.body);\n  window.addEventListener(\"resize\", resizeAsides);\n\n  // The LuzHandler controls the selection of the 3 possible\n  // options (light, dark, default) and the switching between\n  // them.\n  const luz_handler = new LuzHandler();\n  luz_handler.registerClickEvents();\n\n  // Feed the versions dropdown element.\n  feedVersionsMenu();\n\n  // The updateVersion function controls the display of the version\n  // in the header, adding the CSS class \"current\" to display the\n  // tick symbol near the version selected.\n  updateVersion();\n\n  // The function updateRepoMetrics updates the details related to the\n  // repository in the header.\n  if(updateRepoMetrics() == -1) {\n    console.log(\"Could not find an element with [data-snftt-repo-url]\");\n  };\n\n  // Create the table of contents out of the content\n  // of the nftt-content.\n  const toc_observer = new TocObserver();\n  toc_observer.init();\n\n  if (isSafari() || isFirefox()) {\n    let css_content;\n    const head = document.head;\n\n    if (isSafari()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.8rem;\" +\n        \"}\"\n      );\n    } else if (isFirefox()) {\n      css_content = (\n        \".nftt-toc nav ul ul {\" +\n        \"   padding-left: 0.55rem;\" +\n        \"}\"\n      );\n    }\n\n    const style = document.createElement(\"style\");\n    style.append(document.createTextNode(css_content));\n    head.append(style);\n  }\n\n  // Fix accessibility in each input element\n  // with class 'task-list-item-checkbox'.\n  const task_list_elems_qs = \"input.task-list-item-checkbox\";\n  const task_list_elems = document.querySelectorAll(task_list_elems_qs);\n  console.log(`Found ${task_list_elems.length} elements to update!`);\n  for (const element of task_list_elems) {\n    // Add a title to each input element.\n    element.setAttribute('title', `Is task done? ${element.checked}`);\n  }\n\n  // Wrap tables with responsive container.\n  const tables = document.querySelectorAll('table.docutils');\n  for (const table of tables) {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"nftt-table\");\n    table.before(wrapper);\n    wrapper.append(table);\n  }\n\n  // Fix admonitions-like blocks used in Sphinx to display version\n  // changes. Such directives are: versionadded, versionchanged,\n  // deprecated, and versionremoved.\n  const vchanges_selectors = [\n    [\"div.versionadded\", \"versionadded\", \"versionadded-title-only\"],\n    [\"div.versionchanged\", \"versionchanged\", \"versionchanged-title-only\"],\n    [\"div.deprecated\", \"deprecated\", \"deprecated-title-only\"],\n    [\"div.versionremoved\", \"versionremoved\", \"versionremoved-title-only\"],\n  ];\n  for (const lst of vchanges_selectors) {\n    const [ selector, src_class, tgt_class ] = lst;\n    const elems = document.querySelectorAll(selector);\n    if (elems.length > 0) {\n      console.log(`I found ${elems.length} elements of selector ${selector}`);\n    } else {\n      console.log(`I didn't find any ${selector} element.`)\n    }\n\n    for (const div of elems) {\n      // The 'p' contained in the div might contain just a <span>, or\n      // a <span> and a text node. The 2nd case is when the versionadded\n      // directive receives additional text, right below the directive.\n      // If the directive only gets the version number, without\n      // additional text below, then I the selector should\n      // change to .versionadded-title-only, so that it\n      // does not display an empty block below.\n\n      if (div.querySelector(\"p\").childNodes.length == 1) {\n        console.log(`Replacing ${selector} selector...`);\n        div.classList.replace(src_class, tgt_class);\n      }\n    }\n  }\n});\n"],"mappings":"i6QAKA,IAAMA,oBAAsB,kBAErB,SAASC,iBAEd,IADA,IAC2BC,EAA3BC,EAAAC,gCADgBC,SAASC,iBAAiBN,wBACfE,EAAAC,KAAAI,MAAE,KAAnBC,EAAMN,EAAAO,MACRC,EAAMF,EAAOG,cAAc,OACjC,GAAID,GAAOA,EAAIE,QAAUF,EAAIE,MAAMC,OAASH,EAAIE,MAAME,QAAS,CAC7D,IAAMC,EAAaL,EAAIG,MACvBL,EAAOI,MAAa,MAAOG,EAAc,KACzC,IAAMC,EAAaR,EAAOG,cAAc,cACpCK,IACFA,EAAWJ,MAAa,MAAOG,EAAc,MAE3CL,EAAIE,MAAMC,QACZH,EAAIE,MAAMC,MAAQ,GAEtB,CACF,CACF,CCvBA,IAAaI,WAAU,WACrB,SAAAA,IACEC,KAAKC,WAAaC,aAAaC,QAAQ,aACvCH,KAAKI,SAASJ,KAAKK,cACnBL,KAAKM,eAAeN,KAAKK,aAC3B,CAAC,IAAAE,EAAAR,EAAAS,UAmBA,OAnBAD,EAEDE,oBAAA,WACE,IADoB,IAC4CzB,EAD5C0B,EAAAV,KAAAW,aAC8C,IAAvDC,EAAI5B,EAAAO,MACbqB,EAAKC,iBAAiB,SAAS,SAACC,GAC9BA,EAAMC,iBACN,IAAMC,EAAMJ,EAAKK,QAAQC,SACzBhB,aAAaiB,QAAQ,YAAaH,GAClCN,EAAKN,SAASY,GACdN,EAAKJ,eAAeU,GAAK,EAC3B,G,EAPF/B,EAAAC,gCAAmBC,SAASC,iBAAiB,uBAAmBJ,EAAAC,KAAAI,MAAAsB,G,EASjEJ,EASDH,SAAA,SAASY,GACP,OAAOA,GACL,IAAK,UACH7B,SAASiC,gBAAgBC,UAAUC,OAAO,SAC1CnC,SAASiC,gBAAgBC,UAAUC,OAAO,QAC1C,IACMC,EADIC,OAAOC,WAAW,gCACVC,QAAU,OAAS,QAErC,YADAvC,SAASiC,gBAAgBC,UAAUM,IAAIJ,GAGzC,IAAK,OAGH,OAFApC,SAASiC,gBAAgBC,UAAUC,OAAO,cAC1CnC,SAASiC,gBAAgBC,UAAUM,IAAI,QAGzC,IAAK,QACHxC,SAASiC,gBAAgBC,UAAUC,OAAO,QAC1CnC,SAASiC,gBAAgBC,UAAUM,IAAI,S,EAG5CpB,EAEDD,eAAA,SAAeU,EAAKY,QAAK,IAALA,OAAQ,GAQ1B,IAPA,IAO8BC,EAPxBC,EAAS,iBACTC,EAAW5C,SAASM,cAAc,cAClCuC,EAAW7C,SAASM,cAAkBqC,MAAM,iBAC5CG,EAAW9C,SAASM,cAAa,IAAKqC,EAAM,KAAKd,EAAG,MACpDkB,EAAW/C,SAASM,cAAa,IAAKqC,EAAM,UAAUd,EAAG,MAG/DmB,EAAAjD,gCADiBC,SAASC,iBAAqB0C,MAAM,QACvBD,EAAAM,KAAA9C,MAAE,KAArB+C,EAAOP,EAAAtC,MAChB6C,EAAQf,UAAUC,OAAO,WACzBc,EAAQC,aAAa,eAAgB,QACvC,CAEgBC,MAAZL,IACFA,EAASZ,UAAUM,IAAI,WACvBM,EAASI,aAAa,eAAgB,SAGxCL,WAAUK,aAAa,QAASH,EAASb,UAAU9B,OAE/CqC,GACFG,EAASH,O,EAEZW,aAAAxC,EAAA,EAAAyC,IAAA,eAAAC,IApDD,WACE,MAAI,CAAC,QAAS,QAAQC,SAAS1C,KAAKC,YAC3BD,KAAKC,WAEP,SACT,KAACF,CAAA,CAxBoB,GCKjB4C,kBAAoB,8BAE1B,SAASC,cACP,IAAIC,EAAO,GACLC,EAAsB5C,aAAaC,QAAQ,gBAKjD,OAJuB,MAAnB2C,KAAqBC,OAAOC,SAC9BH,EAAOC,EAAoBG,MAAM,MAG5BJ,CACT,CAEA,IAAaK,YACX,WAAc,IAAAxC,EAAAV,UAMdmD,WAAa,SAACC,GACZ,IAAMC,EAAM3C,EAAKmC,KAAKS,QAAQF,GAC1BC,GAAO,IACT3C,EAAKmC,KAAKU,OAAOF,EAAK,GACtBnD,aAAaiB,QAAQ,eAAgBT,EAAKmC,KAAKW,KAAK,M,EAEvDxD,KAEDyD,YAAc,WACZ,QAA2BzE,EAA3BC,EAAAC,gCAAkBwB,EAAKmC,QAAI7D,EAAAC,KAAAI,MAAE,KAAlB+D,EAAGpE,EAAAO,MACNmE,EAAUhD,EAAKiD,IAAIlE,cAAa,sBAAuB2D,EAAG,MACjDd,MAAXoB,EAICA,EAAQrC,UAAUuC,SAAS,YAC9BF,EAAQrC,UAAUwC,OAAO,UACzBnD,EAAKoD,YAAYJ,IALjBhD,EAAKyC,WAAWC,EAOpB,C,EACDpD,KAED+D,iBAAmB,SAACC,QAAM,IAANA,OAAO,GAEzB,IADA,IACwBnC,EAAxBM,EAAAjD,gCADcwB,EAAKiD,IAAMjD,EAAKiD,IAAIvE,iBAAiB,eAAiB,MAC5CyC,EAAAM,KAAA9C,MAAE,KAAf4E,EAAIpC,EAAAtC,MACb,GAAI0E,EAAKC,mBAAoB,CAC3B,IAAMR,EAAUO,EAAKE,cACjBH,EACFN,EAAQrC,UAAUM,IAAI,UAEtB+B,EAAQrC,UAAUC,OAAO,UAE3BZ,EAAKoD,YAAYJ,GAAS,EAC5B,CACF,C,EACD1D,KAED8D,YAAc,SAACJ,EAASU,QAAW,IAAXA,OAAY,GAClC,IAAMC,EAAOX,EAAQjE,cAAc,KAE/BiE,EAAQrC,UAAUuC,SAAS,WAC7BS,EAAKhD,UAAUC,OAAO,kBACtB+C,EAAKhD,UAAUM,IAAI,iBACfyC,IAAgB1D,EAAKmC,KAAKH,SAASgB,EAAQzC,QAAQqD,YACrD5D,EAAKmC,KAAK0B,KAAKb,EAAQzC,QAAQqD,UAC/BpE,aAAaiB,QAAQ,eAAgBT,EAAKmC,KAAKW,KAAK,SAGtDa,EAAKhD,UAAUC,OAAO,iBACtB+C,EAAKhD,UAAUM,IAAI,kBACfyC,GAAe1D,EAAKmC,KAAKH,SAASgB,EAAQzC,QAAQqD,WACpD5D,EAAKyC,WAAWO,EAAQzC,QAAQqD,U,EAGrCtE,KAEDwE,cAAgB,SAAC1D,GACf,IAAM2D,EAAgB3D,EAAM4D,cACtBtC,EAAUqC,iBAAeN,cAC/B/B,EAAQf,UAAUwC,OAAO,UACzBnD,EAAKoD,YAAY1B,E,EAClBpC,KAED2E,cAAgB,SAAC7D,GACf,IAAM8D,EAAMlE,EAAKiD,IAAIvE,iBAAiB,MAChCyF,EAAQnE,EAAKiD,IAAIvE,iBAAiB,eAGxC,GAAiC,IAA7BsB,EAAKoE,OAAOvF,MAAMyD,OAAc,CAClC,QAAwB+B,EAAxBC,EAAA9F,gCAAmB2F,KAAKE,EAAAC,KAAA3F,MAAE,KAAA4F,EACN,OAAlBA,EADaF,EAAAxF,MACR4E,gBAALc,EAAoB5D,UAAUC,OAAO,SACvC,CACA,QAAoB4D,EAApBC,EAAAjG,gCAAiB0F,KAAGM,EAAAC,KAAA9F,MAAP6F,EAAA3F,MACR8B,UAAUC,OAAO,UAItB,OAFAZ,EAAKqD,kBAAiB,QACtBrD,EAAK+C,aAEP,CAGA,QAAwB2B,EAAxBC,EAAAnG,gCAAmB2F,KAAKO,EAAAC,KAAAhG,MAAE,KAAAiG,EACN,OAAlBA,EADaF,EAAA7F,MACR4E,gBAALmB,EAAoBjE,UAAUM,IAAI,SACpC,CACA,QAAoB4D,EAApBC,EAAAtG,gCAAiB0F,KAAGW,EAAAC,KAAAnG,MAAPkG,EAAAhG,MACR8B,UAAUM,IAAI,UAInBjB,EAAKqD,kBAAiB,GAItB,IADA,IACwB0B,EADlBC,EAAY,IAAIC,OAAOjF,EAAKoE,OAAOvF,MAAO,KAChDqG,EAAA1G,gCAAmB2F,KAAKY,EAAAG,KAAAvG,MAAE,KAAAwG,EAAf5B,EAAIwB,EAAAlG,MACb,GAAKmG,EAAUI,KAAK7B,EAAK8B,aAMzB,IAHA,IAAIrC,EAAUO,EACV+B,EAASH,OAAHA,EAAGnC,QAAAmC,IAAS1B,cAEfT,GAAS,KAAAuC,EAGgBC,EAF9BxC,EAAQrC,UAAUC,OAAO,UAED,QADxB0E,EAAStC,EAAQS,eACNgC,WACTD,SAAAF,IAAAE,EAAQ7E,UAAUC,OAAO,WAE3BoC,EAAgB,OAATuC,EAAGD,QAAM,EAANC,EAAQG,QAAQ,KAC5B,CACF,C,EACDpG,KAEDqG,KAAO,WACL,IAAIC,EAAuB,EAC3B5F,EAAKiD,IAAMxE,SAASM,cAAc,QAClCiB,EAAKoE,OAASpE,EAAKiD,IAAIlE,cAAc,wBACrCiB,EAAKmC,KAAOD,cAEZ,IAAMiC,EAAQnE,EAAKiD,IAAMjD,EAAKiD,IAAIvE,iBAAiB,eAAiB,GAE9DmH,EAAOpH,SAASM,cAAckD,mBAC9B6D,EAAkB,MAAJD,OAAI,EAAJA,EAAME,QAAQC,kBAElC,GAAmBpE,MAAfkE,EACF,OAAQ,EAEV9F,EAAKoE,OAAOjE,iBAAiB,QAASH,EAAKiE,eAE3C,QAAwBgC,EAAxBC,EAAA1H,gCAAmB2F,KAAK8B,EAAAC,KAAAvH,MAAE,KAAf4E,EAAI0C,EAAApH,MACb,GAAI0E,EAAKC,mBAAoB,CAC3B,IAAMO,EAAgB+B,EAAYK,WAAU,GAC5CpC,EAAc5D,iBAAiB,QAASH,EAAK8D,eAAe,GAC5DP,EAAK6C,OAAOrC,GAKZ,IAAMf,EAAUO,EAAKE,cACrBT,EAAQzC,QAAQqD,SAAWL,EAAK8C,KAC5BrD,GAAWA,EAAQrC,UAAUuC,SAAS,aACxCF,EAAQrC,UAAUwC,OAAO,WACzBH,EAAQrC,UAAUwC,OAAO,UACzBnD,EAAKoD,YAAYJ,IAGnB4C,GACF,CACF,CAMA,OAFA5F,EAAK+C,cAEE6C,C,EA7JPtG,KAAK2D,IACL3D,KAAK6C,KACL7C,KAAK8E,MACP,ECtBF,SAAsBkC,eAAcC,EAAAC,GAAA,OAAAC,gBAAAC,MAAApH,KAAAqH,UAAA,CA0BnC,SAAAF,kBAAA,OAAAA,gBAAAG,kBAAAC,sBAAAC,MA1BM,SAAAC,EAA8BC,EAAMC,GAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAZ,sBAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIW,OAHpDX,EAAM,GACNC,GAAS,EACTC,GAAS,EACPC,EAAG,gCAAmCL,EAAI,IAAIC,EAAIU,EAAAE,KAAA,EAChCC,MAAMT,GAAI,OAAnB,GACU,OADnBC,EAASK,EAAAI,MACDC,OAAc,CAAAL,EAAAE,KAAA,cACpB,IAAII,MAAM,uBAAsB,cAAAN,EAAAE,KAAA,GAEpBP,EAAUY,OAAM,QAIsB,OAJpDX,EAAKI,EAAAI,KACXZ,EAAQI,EAAMY,iBACd3I,aAAaiB,QAAWuG,EAAI,IAAIC,EAAI,YAAaE,GACjDC,EAAQG,EAAMa,YACd5I,aAAaiB,QAAWuG,EAAI,IAAIC,EAAI,YAAaG,GAASO,EAAAE,KAAA,GAElCC,MAAST,EAAG,oBAAmB,QAAxC,GACU,OADnBG,EAASG,EAAAI,MACDC,OAAc,CAAAL,EAAAE,KAAA,eACpB,IAAII,MAAM,uBAAsB,eAAAN,EAAAE,KAAA,GAEpBL,EAAUU,OAAM,QAEa,GAF3CT,EAAKE,EAAAI,KACXb,EAAMO,EAAMY,SACZ7I,aAAaiB,QAAWuG,EAAI,IAAIC,EAAI,OAAQC,KAEhC,KAARA,GAAcC,GAAS,GAAKC,GAAS,GAAC,CAAAO,EAAAE,KAAA,gBAAAF,EAAAW,OACjC,UAACpB,MAAKC,QAAOC,UAAM,yBAAAO,EAAAY,OAAA,GAAAxB,E,MAE7BL,MAAApH,KAAAqH,UAAA,CC1BD,SAAsB6B,eAAcjC,EAAAC,GAAA,OAAAiC,gBAAA/B,MAAApH,KAAAqH,UAAA,CAiBnC,SAAA8B,kBAAA,OAAAA,gBAAA7B,kBAAAC,sBAAAC,MAjBM,SAAAC,EAA8B2B,EAAMC,GAAO,IAAAxB,EAAAC,EAAAC,EAAAuB,EAAAC,EAAA,OAAAhC,sBAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAG0B,OAFtEV,GAAS,EACTC,GAAS,EACPC,EAAG,WAAcqB,EAAI,oBAAoBI,mBAAmBH,GAAQhB,EAAAE,KAAA,EACnDC,MAAMT,GAAI,OAAnB,GACU,OADlBuB,EAAQjB,EAAAI,MACDC,OAAc,CAAAL,EAAAE,KAAA,cACnB,IAAII,MAAM,uBAAsB,cAAAN,EAAAE,KAAA,GAErBe,EAASV,OAAM,QAI2B,GAJvDW,EAAIlB,EAAAI,KACVZ,EAAQ0B,EAAKE,WACbvJ,aAAaiB,QAAWiI,EAAI,IAAIC,EAAO,YAAaxB,GACpDC,EAAQyB,EAAKT,YACb5I,aAAaiB,QAAWiI,EAAI,IAAIC,EAAO,YAAavB,KAEhDD,GAAS,GAAKC,GAAS,GAAC,CAAAO,EAAAE,KAAA,gBAAAF,EAAAW,OACnB,UAACpB,IAAK,GAAIC,QAAOC,UAAM,yBAAAO,EAAAY,OAAA,GAAAxB,E,MAEjCL,MAAApH,KAAAqH,UAAA,CCbD,IAAMqC,GAAKxJ,aAELyJ,YAAc,wBACdC,cAAgB,4BAChBC,YAAc,wBACdC,cAAgB,0BAChBC,cAAgB,0BAGtB,SAASC,sBAAsBC,GAC7B,IAAIC,EAAoB,EAClBC,EAAgBhL,SAASM,cAAcmK,eACvCQ,EAAcjL,SAASM,cAAcoK,aACrCQ,EAAgBlL,SAASM,cAAcqK,eACvCQ,EAAgBnL,SAASM,cAAcsK,eA2B7C,OAzBmBzH,MAAf2H,EAAQrC,KAAoBqC,EAAQrC,IAAI5E,OAAS,GACnDoH,EAAYrE,YAAckE,EAAQrC,IAClCsC,MAEAE,EAAYjG,cAAc9C,UAAUC,OAAO,UAC3C8I,EAAYjG,cAAc9C,UAAUM,IAAI,WAGtCsI,EAAQpC,OAAS,GACnBwC,EAActE,YAAiBkE,KAAQpC,MACvCqC,MAEAG,EAAclG,cAAc9C,UAAUC,OAAO,UAC7C+I,EAAclG,cAAc9C,UAAUM,IAAI,WAGxCsI,EAAQnC,OAAS,GACnBwC,EAAcvE,YAAiBkE,KAAQnC,MACvCoC,MAEAI,EAAcnG,cAAc9C,UAAUC,OAAO,UAC7CgJ,EAAcnG,cAAc9C,UAAUM,IAAI,WAG5CwI,EAAc9I,UAAUM,IAAI,SACrBuI,CACT,CAGA,SAASK,sBAAsBC,EAAIC,GACjC,IAAM7C,EAAM8B,GAAGvJ,QAAWqK,EAAE,IAAIC,EAAE,QAC5B5C,EAAQ6C,OAAOC,SAASjB,GAAGvJ,QAAWqK,EAAE,IAAIC,EAAE,WAC9C3C,EAAQ4C,OAAOC,SAASjB,GAAGvJ,QAAWqK,EAAE,IAAIC,EAAE,WACpD,OAAK5C,GAAUC,EAGR,CAACF,MAAKC,QAAOC,SAFX,CAACF,IAAK,GAAIC,OAAQ,EAAGC,OAAQ,EAGxC,CAGA,SAAsB8C,gBAAe3D,EAAAC,EAAA2D,GAAA,OAAAC,iBAAA1D,MAAApH,KAAAqH,UAAA,CAkCpC,SAAAyD,mBAAA,OAAAA,iBAAAxD,kBAAAC,sBAAAC,MAlCM,SAAAC,EAA+BsD,EAAMP,EAAIC,GAAE,IAAAR,EAAAe,EAAAC,EAAAC,EAAA,OAAA3D,sBAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAa/C,IAXKyC,EAActB,GAAGvJ,QAAWqK,EAAE,IAAIC,EAAE,kBAGlCQ,EAAME,KAAKF,OACXC,EAAK,IAAIC,MACZC,QAAQV,OAAOC,SAASK,GAAe,KACtCE,EAAGG,UAAYJ,IAGjBhB,EAAUM,sBAAsBC,EAAIC,KAInCR,EAAO,CAAA5B,EAAAE,KAAA,SAAAF,EAAAC,KAAA,EAAAD,EAAAiD,GAEAP,EAAI1C,EAAAE,KACL,WADKF,EAAAiD,GACGjD,EAIR,WAJQA,EAAAiD,GAIA,0BAAAjD,EAAAE,KAAA,EAHKvB,eAAewD,EAAIC,GAAG,OAA/B,OAAPR,EAAO5B,EAAAI,KAAAJ,EAAAW,OAAA,2BAAAX,EAAAE,KAAA,GAISW,eAAesB,EAAIC,GAAG,QAA/B,OAAPR,EAAO5B,EAAAI,KAAAJ,EAAAW,OAAA,oBAIX9I,aAAaiB,QAAWqJ,EAAMC,MAAoBU,sBAAKF,OAAS5C,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAkD,GAAAlD,EAAA,SAEhE4B,EAAUM,sBAAsBC,EAAIC,GAAI,eAAApC,EAAAW,OAAA,SAIrCiB,GAAO,yBAAA5B,EAAAY,OAAA,GAAAxB,EAAA,c,MACfL,MAAApH,KAAAqH,UAAA,CAGD,SAAsBmE,oBAAiB,OAAAC,mBAAArE,MAAApH,KAAAqH,UAAA,CAyBtC,SAAAoE,qBAAA,OAAAA,mBAAAnE,kBAAAC,sBAAAC,MAzBM,SAAAkE,IAAA,IAAAC,EAAA5D,EAAA6D,EAAAlE,EAAAC,EAAAsC,EAAA4B,EAAAzC,EAAA0C,EAAAC,EAAA,OAAAxE,sBAAAa,MAAA,SAAA4D,GAAA,cAAAA,EAAA1D,KAAA0D,EAAAzD,MAAA,OAK8D,GAJ7DoD,EAAmBxM,SAASM,cAAckK,aAC1C5B,EAAM4D,EAAmBA,EAAiB1K,QAAQgL,aAAe,KAGnEL,EAAe7D,EAAImE,MAAM,wCACb,CAAAF,EAAAzD,KAAA,SACqB,OAA1Bb,EAAckE,EAARjE,KAAQiE,EAAY,GAAAI,EAAAzD,KAAA,EACbqC,gBAAgB,SAAUlD,EAAMC,GAAK,OAA9C,KAAPsC,EAAO+B,EAAAvD,MACF,CAAAuD,EAAAzD,KAAA,gBAAAyD,EAAAhD,OAAA,SACFgB,sBAAsBC,IAAQ,QAKyB,KAA9D4B,EAAe9D,EAAImE,MAAM,uCACb,CAAAF,EAAAzD,KAAA,SACqB,OAA1Ba,EAAcyC,EAARC,KAAQD,EAAY,GAAAG,EAAAzD,KAAA,GACbqC,gBAAgB,SAAUxB,EAAM0C,GAAK,QAA9C,KAAP7B,EAAO+B,EAAAvD,MACF,CAAAuD,EAAAzD,KAAA,gBAAAyD,EAAAhD,OAAA,SACFgB,sBAAsBC,IAAQ,eAAA+B,EAAAhD,OAAA,UAIjC,GAAC,yBAAAgD,EAAA/C,OAAA,GAAAyC,E,MACVtE,MAAApH,KAAAqH,UAAA,CC1HD,IAAa8E,YACX,WAAc,IAAAzL,EAAAV,UAMdoM,4BAA8B,SAACC,GAC7BA,EAAQC,KAAI,SAAA1L,GACV,IAAM2L,EAAM3L,EAAK4L,OACXA,EAAS9L,EAAKiD,IAAIlE,cAAa,YAAa8M,EAAIE,GAAE,MAClDzG,EAASwG,iBAAQrI,eACK,IAAxBvD,EAAK8L,eACD,MAAN1G,KAAQ3E,UAAUM,IAAI,UAEhB,MAANqE,KAAQ3E,UAAUC,OAAO,SAE7B,G,EACDtB,KAED2M,4BAA8B,SAACC,GAC7BlM,EAAKmM,iBAAmB,IAAIC,qBAC1BpM,EAAK0L,4BACL,CACEW,UAAMzK,EACN0K,WAAYJ,EACZK,UAAW,CAAC,EAAG,IAAM,GAAK,IAAM,KAIpC,IAAAhO,IAAiED,EAAjEC,EAAAC,gCAAsBwB,EAAKwM,IAAI9N,iBAAiB,qBAAiBJ,EAAAC,KAAAI,MAAE,KAAxD+C,EAAOpD,EAAAO,MAChBmB,EAAKmM,iBAAiBM,QAAQ/K,EAChC,C,EACDpC,KAEDqG,KAAO,WAAM,IAAA+G,EAGX,GAFA1M,EAAKwM,IAAM/N,SAASM,cAAc,iBAClCiB,EAAKiD,IAAMxE,SAASM,cAAc,oBAClB6C,MAAZ5B,EAAKwM,KAAgC5K,MAAZ5B,EAAKiD,IAChC,OAAQ,EAGV,IACMiJ,EAAW,MADAQ,OAAHA,EAAGjO,SAASM,cAAc,gBAAvB2N,IAAkCC,eACf,GAAiB,iBAM/CC,EAAc5M,EAAKwM,IAAIzN,cAAc,wBACrC8N,EAAS7M,EAAKiD,IAAIlE,cAAc,yBACnB6C,MAAfgL,GAAsChL,MAAViL,GAC9BA,EAAOlL,aAAa,OAAQiL,EAAYE,aAAa,SAUvD,IADA,IAC4B3L,EAA5BM,EAAAjD,gCADgBwB,EAAKiD,IAAIvE,iBAAiB,kBACdyC,EAAAM,KAAA9C,MAAXwC,EAAAtC,MACR8B,UAAUC,OAAO,UAI1B,OADAZ,EAAKiM,4BAA4BC,GAC1B,C,EAjEP5M,KAAKkN,IACLlN,KAAK2D,IACL3D,KAAK6M,gBACP,ECLK,SAASY,eACd,IAAI7N,EAAS,GAEP8N,EAAevO,SAASM,cAAc,iBACtCkO,EAAexO,SAASM,cAAc,iBACtCmO,EAAWzO,SAASM,cAAc,aAGxC,OAAwD,GAApD+B,OAAOC,WAAW,uBAAuBC,SAC/B,MAAZiM,KAActL,aAAa,QAAS,IAC5B,MAARuL,KAAUvL,aAAa,QAAS,IACzB,KAGWC,MAAhBoL,IACF9N,EAAS8N,EAAaG,aAAe1O,SAAS2O,KAAKD,aAC/C,6BAA4B,WACjBH,EAAaG,aAAgB,KAChC,MAAZF,KAActL,aAAa,QAASzC,GAC5B,MAARgO,KAAUvL,aAAa,QAASzC,IAG3BA,EACT,CAGO,SAASmO,yBAAyB,IAAAC,EACnCC,GAAsB,EACpB7L,EAAUjD,SAASM,cAAc,QACjCyO,EAAWF,OAAHA,EAAG5L,EAAQ3C,cAAc,gBAAtBuO,IAAiCX,aAOlD,OANgB/K,MAAZ4L,IACFD,EAAqBC,EAAW,GAChC9L,EAAQC,aACN,QAAgC4L,yBAAkB,OAG/CA,CACT,CCrCA,IAAME,eAAiB,2BAEvB,SAASC,qBAEP,IADA,IAC4CpP,EAA5CC,EAAAC,gCAD0BC,SAASC,iBAAiB+O,mBACRnP,EAAAC,KAAAI,MAAE,KAAAgP,EAGYC,EAH/CC,EAAYvP,EAAAO,MACjBiP,EAAkC,OAAvBH,EAAGE,EAAatN,cAAO,EAApBoN,EAAsBI,gBAExC,GADAD,EAAcA,EAAYE,QAAQ,IAAK,OACnC,IAAI/I,OAAO6I,GAAa1I,KAAKtE,OAAOmN,SAAS5H,MAC/C,OAAOuH,OAAPA,EAAOC,EAAatN,cAAbqN,IAAsBM,YAEjC,CACA,MAAO,EACT,CAEO,SAASC,gBAOd,IANA,IAMuEhN,EANjEiN,EAAUV,qBAEVW,EAAiB5P,SAASM,cADN,+BAEpBuP,EAA0CF,0BAAW,KACrDG,EAAe9P,SAASM,cAAcuP,GAE5C7M,EAAAjD,gCAAsBC,SAASC,iBAAiB,2BAAuByC,EAAAM,KAAA9C,MAAE,KAA9D+C,EAAOP,EAAAtC,MAChB6C,EAAQf,UAAUC,OAAO,WACzBc,EAAQC,aAAa,eAAgB,QACvC,CAEoBC,MAAhB2M,IACFA,EAAa5N,UAAUM,IAAI,WAC3BsN,EAAa5M,aAAa,eAAgB,QACpBC,MAAlByM,IACFA,EAAehJ,YAAckJ,EAAahO,QAAQ2N,cAGxD,CAEO,SAASM,mBACd,IAAMC,EAAUhQ,SAASiQ,eAAe,0BACxC,GAAKD,EAAL,CAOAE,QAAQC,IAAI,qCACZD,QAAQC,IAAI,qBACZD,QAAQE,IAAIC,cAEZ,QAA+BzK,EAA/BC,EAAA9F,gCAAmBsQ,gBAAYzK,EAAAC,KAAA3F,MAAE,KAAtBuB,EAAImE,EAAAxF,MACPkQ,EAAKtQ,SAASuQ,cAAc,MAC5BC,EAASxQ,SAASuQ,cAAc,KACtCC,EAAOtO,UAAUM,IACf,gBAAiB,SAAU,qBAC3B,2BAEFgO,EAAOtN,aAAa,eAAgB,SACpCsN,EAAOtN,aAAa,OAAQzB,EAAKmH,KACjC4H,EAAO1O,QAAQwN,gBAAkB7N,EAAKmH,IACtC4H,EAAO1O,QAAQ2N,aAAehO,EAAKgP,KACnC,IAAMC,EAAO1Q,SAASuQ,cAAc,QACpCG,EAAKxO,UAAUM,IAAI,QAAS,QAC5BkO,EAAK9J,YAAcnF,EAAKgP,KACxB,IAAME,EAAI3Q,SAASuQ,cAAc,KACjCI,EAAEzO,UAAUM,IAAI,KAAM,WAAY,WAClCgO,EAAOI,OAAOF,GACdF,EAAOI,OAAOD,GACdL,EAAGM,OAAOJ,GACVR,EAAQY,OAAON,EACjB,CA5BA,MAFEJ,QAAQC,IAAI,2CA+BhB,CC5DA,SAASU,SAASC,GAChB,OAAOC,UAAUC,UAAUC,cAAcC,OAAOJ,EAAQG,gBAAkB,CAC5E,CAEA,SAASE,YACP,OAAON,SAAS,YAAcA,SAAS,UAAYA,SAAS,QAC9D,CAEA,SAASO,WACP,SACI/O,OAAOgP,wBACJhP,OAAOiP,SACTT,SAAS,YAAcA,SAAS,YAAcA,SAAS,QAC9D,CAGAxO,OAAOX,iBAAiB,oBAAoB,SAAC6P,GAoD3C,GA7CA3R,kBAG4B,IADP,IAAImE,aACRmD,SACfgJ,QAAQC,IAAI,4DACZD,QAAQC,IAAI,iEAOdvB,yBACAN,eAGwB,IAAIkD,gBAAe,SAAAtE,GAAO,OAAIoB,c,IACtCN,QAAQhO,SAAS2O,MACjCtM,OAAOX,iBAAiB,SAAU4M,eAKd,IAAI1N,YACZU,sBAGZyO,mBAKAL,iBAI2B,GAAxBrD,qBACD6D,QAAQC,IAAI,yDAKO,IAAInD,aACZ9F,OAETkK,YAAcD,YAAa,CAC7B,IAAIM,EACEC,EAAO1R,SAAS0R,KAElBN,WACFK,EACE,iDAION,cACTM,EACE,mDAMJ,IAAMlR,EAAQP,SAASuQ,cAAc,SACrChQ,EAAMqQ,OAAO5Q,SAAS2R,eAAeF,IACrCC,EAAKd,OAAOrQ,EACd,CAIA,IACMqR,EAAkB5R,SAASC,iBADN,iCAE3BiQ,QAAQC,IAAG,SAAUyB,EAAgB/N,OAAM,wBAC3C,QAAqChE,EAArCC,EAAAC,gCAAsB6R,KAAe/R,EAAAC,KAAAI,MAAE,KAA5B+C,EAAOpD,EAAAO,MAEhB6C,EAAQC,aAAa,QAAO,iBAAmBD,EAAQ4O,QACzD,CAIA,IADA,IAC0BnP,EAA1BM,EAAAjD,gCADeC,SAASC,iBAAiB,qBACfyC,EAAAM,KAAA9C,MAAE,KAAjB4R,EAAKpP,EAAAtC,MACR2R,EAAU/R,SAASuQ,cAAc,OACvCwB,EAAQ7P,UAAUM,IAAI,cACtBsP,EAAMnK,OAAOoK,GACbA,EAAQnB,OAAOkB,EACjB,CAWA,IANA,IAMAE,EAAA,EAAAC,EAN2B,CACzB,CAAC,mBAAoB,eAAgB,2BACrC,CAAC,qBAAsB,iBAAkB,6BACzC,CAAC,iBAAkB,aAAc,yBACjC,CAAC,qBAAsB,iBAAkB,8BAEPD,EAAAC,EAAApO,OAAAmO,IAAE,CAAjC,IAAME,EAAGD,EAAAD,GACJpP,EAAmCsP,EAAG,GAA5BC,EAAyBD,EAAG,GAAjBE,EAAcF,EAAG,GACxCG,EAAQrS,SAASC,iBAAiB2C,GACpCyP,EAAMxO,OAAS,EACjBqM,QAAQC,IAAekC,aAAMxO,OAAM,yBAAyBjB,GAE5DsN,QAAQC,IAAyBvN,uBAAQ,aAG3C,QAAuBgD,EAAvBC,EAAA9F,gCAAkBsS,KAAKzM,EAAAC,KAAA3F,MAAE,KAAdoS,EAAG1M,EAAAxF,MASoC,GAA5CkS,EAAIhS,cAAc,KAAKiS,WAAW1O,SACpCqM,QAAQC,IAAiBvN,eAAQ,gBACjC0P,EAAIpQ,UAAUqN,QAAQ4C,EAAWC,GAErC,CACF,CACF"}